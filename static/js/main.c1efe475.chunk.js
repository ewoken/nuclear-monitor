(this["webpackJsonpnuclear-monitor"]=this["webpackJsonpnuclear-monitor"]||[]).push([[0],{375:function(e,t,a){e.exports=a(712)},380:function(e,t,a){},451:function(e,t,a){},454:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t),a.d(t,"ProductionType",(function(){return o})),a.d(t,"UnavailabilityType",(function(){return i})),a.d(t,"PlantType",(function(){return c})),a.d(t,"ReactorType",(function(){return l})),a.d(t,"MixType",(function(){return s}));var n=a(0),r=a.n(n),o=r.a.shape({value:r.a.number}),i=r.a.shape({id:r.a.string.isRequired,updatedAt:r.a.string.isRequired,startDate:r.a.string.isRequired,endDate:r.a.string.isRequired,type:r.a.string.isRequired,eicCode:r.a.string.isRequired,reason:r.a.string.isRequired,status:r.a.string,availablePower_MW:r.a.number.isRequired,updates:r.a.arrayOf(r.a.object).isRequired}),c=r.a.shape({id:r.a.string.isRequired,name:r.a.string.isRequired,coords:r.a.arrayOf(r.a.number).isRequired,coolingType:r.a.string.isRequired,coolingPlace:r.a.string.isRequired,wikiLink:r.a.string.isRequired,asnLink:r.a.string.isRequired,edfLink:r.a.string.isRequired,pictures:r.a.arrayOf(r.a.string).isRequired}),l=r.a.shape({eicCode:r.a.string.isRequired,plantId:r.a.string.isRequired,reactorIndex:r.a.number.isRequired,name:r.a.string.isRequired,stage:r.a.string.isRequired,thermalPower_MW:r.a.number.isRequired,rawPower_MW:r.a.number.isRequired,netPower_MW:r.a.number.isRequired,buildStartDate:r.a.string.isRequired,firstReactionDate:r.a.string.isRequired,gridLinkDate:r.a.string.isRequired,exploitationStartDate:r.a.string.isRequired,moxAuthorizationDate:r.a.string.isRequired,coolingTowerCount:r.a.number.isRequired,dayProductions:r.a.arrayOf(o).isRequired,unavailabilities:r.a.arrayOf(i).isRequired}),s=r.a.shape({wind:r.a.number.isRequired,solar:r.a.number.isRequired,nuclear:r.a.number.isRequired,gas:r.a.number.isRequired,oil:r.a.number.isRequired,coal:r.a.number.isRequired,consumption:r.a.number.isRequired,biomass:r.a.number.isRequired,hydroPumped:r.a.number.isRequired,hydro:r.a.number.isRequired,imports:r.a.number.isRequired,exports:r.a.number.isRequired})},688:function(e,t,a){},712:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(9),i=a.n(o),c=(a(380),a(31)),l=a.n(c);L.DivIcon.SVGIcon=L.DivIcon.extend({options:{circleText:"",className:"svg-icon",circleAnchor:null,circleColor:null,circleOpacity:null,circleFillColor:"rgb(255,255,255)",circleFillOpacity:null,circleRatio:.5,circleWeight:null,color:"rgb(0,102,255)",fillColor:null,fillOpacity:.4,fontColor:"rgb(0, 0, 0)",fontOpacity:"1",fontSize:null,fontWeight:"normal",iconAnchor:null,iconSize:L.point(32,48),opacity:1,popupAnchor:null,weight:2},initialize:function(e){(e=L.Util.setOptions(this,e)).iconSize=L.point(e.iconSize),e.circleAnchor?e.circleAnchor=L.point(e.circleAnchor):e.circleAnchor=L.point(Number(e.iconSize.x)/2,Number(e.iconSize.x)/2),e.circleColor||(e.circleColor=e.color),e.circleFillOpacity||(e.circleFillOpacity=e.opacity),e.circleOpacity||(e.circleOpacity=e.opacity),e.circleWeight||(e.circleWeight=e.weight),e.fillColor||(e.fillColor=e.color),e.fontSize||(e.fontSize=Number(e.iconSize.x/4)),e.iconAnchor?e.iconAnchor=L.point(e.iconAnchor):e.iconAnchor=L.point(Number(e.iconSize.x)/2,Number(e.iconSize.y)),e.popupAnchor?e.popupAnchor=L.point(e.popupAnchor):e.popupAnchor=L.point(0,-.75*e.iconSize.y),e.html=this._createSVG()},_createCircle:function(){var e=Number(this.options.circleAnchor.x),t=Number(this.options.circleAnchor.y),a=this.options.iconSize.x/2*Number(this.options.circleRatio),n=this.options.circleFillColor,r=this.options.circleFillOpacity,o=this.options.circleColor,i=this.options.circleOpacity,c=this.options.circleWeight;return'<circle class="'+(this.options.className+"-circle")+'" cx="'+e+'" cy="'+t+'" r="'+a+'" fill="'+n+'" fill-opacity="'+r+'" stroke="'+o+'" stroke-opacity='+i+'" stroke-width="'+c+'"/>'},_createPathDescription:function(){var e=Number(this.options.iconSize.y),t=Number(this.options.iconSize.x),a=Number(this.options.weight),n=a/2;return"M "+n+" "+t/2+" "+("L "+t/2+" "+(e-a)+" ")+("L "+(t-n)+" "+t/2+" ")+("A "+t/4+" "+t/4+" 0 0 0 "+n+" "+t/2+" Z")},_createPath:function(){var e=this._createPathDescription(),t=this.options.weight,a=this.options.color,n=this.options.opacity,r=this.options.fillColor,o=this.options.fillOpacity;return'<path class="'+(this.options.className+"-path")+'" d="'+e+'" stroke-width="'+t+'" stroke="'+a+'" stroke-opacity="'+n+'" fill="'+r+'" fill-opacity="'+o+'"/>'},_createSVG:function(){var e=this._createPath(),t=this._createCircle(),a=this._createText();return'<svg xmlns="http://www.w3.org/2000/svg" version="1.1" class="'+(this.options.className+"-svg")+'" style="'+("width:"+this.options.iconSize.x+"px; height:"+this.options.iconSize.y+"px; "+this.options.style)+'">'+e+t+a+"</svg>"},_createText:function(){var e=this.options.fontSize+"px",t=this.options.fontWeight,a=Number(this.options.fontSize),n=this.options.circleAnchor.x,r=this.options.circleAnchor.y+.35*a,o=this.options.circleText;return'<text text-anchor="middle" x="'+n+'" y="'+r+'" style="font-size: '+e+"; font-weight: "+t+'" fill="'+this.options.fontColor.replace("rgb(","rgba(").replace(")",","+this.options.fontOpacity+")")+'">'+o+"</text>"}}),L.divIcon.svgIcon=function(e){return new L.DivIcon.SVGIcon(e)},L.Marker.SVGMarker=L.Marker.extend({options:{iconFactory:L.divIcon.svgIcon,iconOptions:{}},initialize:function(e,t){(t=L.Util.setOptions(this,t)).icon=t.iconFactory(t.iconOptions),this._latlng=e},onAdd:function(e){L.Marker.prototype.onAdd.call(this,e)},setStyle:function(e){if(this._icon){this._icon.children[0];var t=this._icon.children[0].children[0],a=this._icon.children[0].children[1];if(e.color&&!e.iconOptions){var n=e.color.replace("rgb","rgba").replace(")",","+this.options.icon.options.opacity+")"),r=e.color.replace("rgb","rgba").replace(")",","+this.options.icon.options.fillOpacity+")");t.setAttribute("stroke",n),t.setAttribute("fill",r),a.setAttribute("stroke",n),this.options.icon.fillColor=r,this.options.icon.color=n,this.options.icon.circleColor=n}if(e.opacity&&this.setOpacity(e.opacity),e.iconOptions){e.color&&(e.iconOptions.color=e.color);var o=L.Util.setOptions(this.options.icon,e.iconOptions);this.setIcon(L.divIcon.svgIcon(o))}}}}),L.marker.svgMarker=function(e,t){return new L.Marker.SVGMarker(e,t)},L.DivIcon.SVGIcon.IndicatorIcon=L.DivIcon.SVGIcon.extend({_createCircle:function(){var e=L.DivIcon.SVGIcon.prototype._createCircle.call(this),t=Number(this.options.circleAnchor.x),a=Number(this.options.circleAnchor.y),n=this.options.iconSize.x/2*Number(this.options.circleRatio),r=Math.PI*n,o=this.options.loadRate*r,i='<circle r="3" cx="'.concat(5,'" cy="',5,'"\n        style="\n          fill: red;\n          stroke: none;\n        "\n      >\n      </circle>'),c='\n        <circle r="'.concat(n/2,'" cx="').concat(t,'" cy="').concat(a,'"\n          style="\n            transform: rotateZ(-90deg);\n            transform-origin: ').concat(t,"px ").concat(a,"px;\n            fill: none;\n            stroke-width: ").concat(n,";\n            stroke: rgb(38, 166, 91);\n            stroke-dasharray: ").concat(o," ").concat(r,';\n            "\n        >\n        </circle>');return this.options.notif?e+c+i:e+c},_createSVG:function(){var e=this._createPath(),t=this._createCircle(),a=this._createText();return'<svg xmlns="http://www.w3.org/2000/svg" version="1.1" class="'+(this.options.className+"-svg")+'" style="'+("width:"+this.options.iconSize.x+"px; height:"+this.options.iconSize.y+"px;")+'">'+e+t+a+"</svg>"}});var s=a(49),u=a(56),d=a(90),m=a(8),p=a.n(m),h=(a(385),a(100)),f=a(326),b=a(327),v=a(22),E=a(724),y=a(727),g=a(718),_=a(29),w=a.n(_),x=a(723),O=a(52),I=a.n(O),N="https://nuclear-monitor-backend.herokuapp.com";function D(){var e,t=arguments;return w.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,w.a.awrap(fetch.apply(void 0,t));case 2:if((e=a.sent).ok){a.next=5;break}throw new Error("Fetch error");case 5:return a.abrupt("return",e);case 6:case"end":return a.stop()}}))}var k=a(719),P=a(50),C="PRODUCTIONS_LOAD_ACTION",M="PRODUCTIONS_RECEIVE_ACTION";function A(e){var t=e.date,a=e.data,n=e.errors;return{type:M,date:t,data:a,errors:n}}var R={};function S(e,t){var a=e.date,n=p()(a).format("YYYY-MM-DD");return t.productions[n]&&t.productions[n].loaded}var j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(v.a)({},e,Object(P.a)({},t.date,{loading:!0,loaded:!1,errors:null,data:{}}));case M:return Object(v.a)({},e,Object(P.a)({},t.date,{loading:!1,loaded:!t.errors,errors:t.errors||null,data:Object(E.a)(Object(y.a)("eicCode"),t.data.productions)}));default:return e}},T="UNAVAILABILITIES_LOAD_ACTION",Y="UNAVAILABILITIES_RECEIVE_ACTION";function q(e){var t=e.date,a=e.data,n=e.errors;return{type:Y,date:t,data:a,errors:n}}var z={};function W(e,t){var a=e.date,n=p()(a).format("YYYY-MM-DD");return t.unavailabilities[n]&&t.unavailabilities[n].loaded}var V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Object(v.a)({},e,Object(P.a)({},t.date,{loading:!0,loaded:!0,errors:null,data:[]}));case Y:return Object(v.a)({},e,Object(P.a)({},t.date,{loading:!1,loaded:!t.errors,errors:t.errors||null,data:t.data}));default:return e}},U="REACTORS_LOAD_ACTION",G="REACTORS_RECEIVE_ACTION";function F(e){var t=e.data,a=e.errors;return{type:G,data:t,errors:a}}var H={loading:!1,loaded:!1,errors:null,data:{}};function B(e){return e.reactors.loaded}function K(e,t){var a=p()(t),n=e.find((function(e){return a.isAfter(e.startDate)&&a.isBefore(e.endDate)}));return n?"PLANNED_MAINTENANCE"===n.type?0===n.availablePower_MW?"PLANNED_STOP":"PLANNED_REDUCTION":0===n.availablePower_MW?"AUTO_STOP":"UNPLANNED_REDUCTION":"RUNNING"}function X(e,t){var a=e.eicCode,n=e.date,r=t.reactors.data[a],o=function(e,t){var a=e.date,n=e.eicCode,r=p()(a).format("YYYY-MM-DD");if(t.productions[r]&&t.productions[r].data[n]){var o=t.productions[r].data[n].values,i=Array.from({length:24-o.length+1}).map((function(){return{value:null}}));return o.map((function(e){return{value:Math.max(e.value,0)}})).concat(i)}return null}({eicCode:a,date:n},t),i=function(e,t){var a=e.date,n=e.eicCode,r=p()(a).format("YYYY-MM-DD");return t.unavailabilities[r]&&t.unavailabilities[r].data.filter((function(e){return e.eicCode===n}))}({eicCode:a,date:n},t);return Object(v.a)({},r,{status:K(i,n),dayProductions:o,unavailabilities:i})}function J(e,t){var a=e.plantId,n=e.date,r=Object.values(t.reactors.data).filter((function(e){return e.plantId===a})).map((function(e){return X({eicCode:e.eicCode,date:n},t)}));return Object(k.a)(Object(y.a)("reactorIndex"),r)}var Q={availablePower:0,totalPower:0,availableCount:0,partiallyUnavailableCount:0,totallyUnavailableCount:0};function Z(e,t){var a=e.date,n=e.slotIndex,r=p()(a).startOf("day").add(15*n,"minutes");return function(e,t){var a=e.date;return Object(g.a)(t.reactors.data).map((function(e){return X({eicCode:e.eicCode,date:a},t)}))}({date:a},t).reduce((function(e,t){var a={availablePower:0,availableCount:0,partially:0,totally:0},n=t.unavailabilities.find((function(e){return r.isAfter(e.startDate)&&r.isBefore(e.endDate)}));return n?(0===n.availablePower_MW?a.totally=1:(a.availableCount=1,a.partially=1),a.availablePower=n.availablePower_MW):(a.availableCount=1,a.availablePower=t.netPower_MW),{totalPower:e.totalPower+t.netPower_MW,availablePower:e.availablePower+a.availablePower,availableCount:e.availableCount+a.availableCount,totallyUnavailableCount:e.totallyUnavailableCount+a.totally,partiallyUnavailableCount:e.partiallyUnavailableCount+a.partially}}),Q)}var $=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return Object(v.a)({},e,{loading:!0});case G:return Object(v.a)({},e,{loading:!1,loaded:!t.errors,errors:t.errors||null,data:t.data||{}});default:return e}},ee="PLANTS_LOAD_ACTION",te="PLANTS_RECEIVE_ACTION";function ae(e){var t=e.data,a=e.errors;return{type:te,data:t,errors:a}}var ne={loading:!1,loaded:!1,errors:null,data:{}};function re(e){return e.plants.loaded}function oe(e,t){var a=e.plantId,n=e.date;return t.plants.data[a]&&Object(v.a)({},t.plants.data[a],{reactors:J({plantId:a,date:n},t)})}function ie(e,t){var a=e.date;return Object(g.a)(t.plants.data).map((function(e){return oe({plantId:e.id,date:a},t)}))}var ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee:return Object(v.a)({},e,{loading:!0});case te:return Object(v.a)({},e,{loading:!1,loaded:!t.errors,errors:t.errors||null,data:t.data||{}});default:return e}},le="MIX_LOAD_ACTION",se="MIX_RECEIVE_ACTION";function ue(e){var t=e.date,a=e.data,n=e.errors;return{type:se,date:t,data:a,errors:n}}var de={};function me(e,t){var a=e.date,n=p()(a).format("YYYY-MM-DD");return t.mix[n]&&t.mix[n].loaded}function pe(e,t){var a=e.date,n=p()(a).format("YYYY-MM-DD");return t.mix[n]&&t.mix[n].data}var he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case le:return Object(v.a)({},e,Object(P.a)({},t.date,{loading:!0,loaded:!1,errors:null,data:{}}));case se:return Object(v.a)({},e,Object(P.a)({},t.date,{loading:!1,loaded:!t.errors,errors:t.errors||null,data:t.data.mix}));default:return e}},fe="RIVERS_LOAD_ACTION",be="RIVERS_RECEIVE_ACTION";function ve(e){var t=e.data,a=e.errors;return{type:be,data:t,errors:a}}var Ee={loading:!1,loaded:!1,errors:null,data:{}};function ye(e){return e.rivers.loaded}function ge(e){return e.rivers.data}var _e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fe:return Object(v.a)({},e,{loading:!0});case be:return Object(v.a)({},e,{loading:!1,loaded:!t.errors,errors:t.errors||null,data:t.data||{}});default:return e}},we=Object(h.combineReducers)({plants:ce,reactors:$,productions:j,mix:he,unavailabilities:V,rivers:_e}),xe=[Object(h.applyMiddleware)(b.a)],Oe=Object(f.composeWithDevTools)({}).apply(void 0,xe),Ie=Object(h.createStore)(we,Oe),Ne=(a(194),a(122)),De=(a(195),a(125)),ke=(a(196),a(126)),Pe=(a(391),a(190)),Ce=(a(252),a(53)),Me=(a(79),a(7)),Ae=(a(396),a(352)),Re=(a(398),a(350));var Se=function(e){var t=e.to,a=e.children;return r.a.createElement(u.b,{to:function(e){return{pathname:t,search:e.search}}},a)},je=Re.a.Title;var Te=function(){return r.a.createElement("div",{className:"HomeView"},r.a.createElement(je,{level:2},"Bienvenue"),r.a.createElement("div",null,r.a.createElement("strong",null,"Nuclear monitor")," vous permet de consulter:",r.a.createElement("ul",null,r.a.createElement("li",null,"le ",r.a.createElement(Se,{to:"/mix"},"mix")," de production d'\xe9lectricit\xe9"),r.a.createElement("li",null,"l'\xe9tat d'une ",r.a.createElement(Se,{to:"/plant/GRAVELINES"},"centrale")," ou d'un ",r.a.createElement(Se,{to:"/plant/BLAYAIS/3"},"r\xe9acteur")))),r.a.createElement("div",{className:"HomeView__marker"},"Cliquer sur une centrale pour en savoir plus..."))},Le=(a(267),a(47)),Ye=(a(447),a(331)),qe=(a(449),a(332));a(451);function ze(){return r.a.createElement("div",null,r.a.createElement("p",null,"Ce site est open-source, vous pouvez consulter son code source ici: ",r.a.createElement("br",null),r.a.createElement("a",{href:"https://github.com/ewoken/nuclear-monitor",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(Me.a,{type:"github"})," nuclear-monitor")),r.a.createElement("p",null,"N'h\xe9sitez pas \xe0 me remontez des bugs ou suggestions sur Github ou Twitter:",r.a.createElement("br",null),r.a.createElement("a",{href:"https://twitter.com/Yugnat95",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(Me.a,{type:"twitter"}),"\xa0@Yugnat95")),r.a.createElement("p",null,"D'autres sites pour suivre les donn\xe9es \xe9lectriques:",r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"https://www.rte-france.com/fr/eco2mix/eco2mix-mix-energetique",target:"blanck"},"\xe9co2mix")),r.a.createElement("li",null,r.a.createElement("a",{href:"https://www.electricitymap.org",target:"blanck"},"electricity-map")),r.a.createElement("li",null,r.a.createElement("a",{href:"http://www.facteurs-charge.fr/",target:"blanck"},"facteurs-charge.fr")))))}var We=function(){return r.a.createElement("div",{className:"AboutView"},r.a.createElement("h2",null,"\xc0 propos"),r.a.createElement("div",null,r.a.createElement(Ye.a,{avatar:r.a.createElement("a",{href:"https://github.com/ewoken",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(qe.a,{src:"https://avatars3.githubusercontent.com/u/8919530?s=460&v=4"})),content:r.a.createElement(ze,null)})),r.a.createElement("h2",null,"Foire aux questions"),r.a.createElement(Le.a,{accordion:!0,bordered:!1},r.a.createElement(Le.a.Panel,{header:"Comment fonctionne un r\xe9acteur nucl\xe9aire ?",key:"1"},"Explication en moins de 3 min:",r.a.createElement("iframe",{title:"Youtube",width:"100%",src:"https://www.youtube.com/embed/I09DhTubNqE",frameBorder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}),"Si vous voulez plus de d\xe9tails, nous vous recommendons d'aller regarder les \xe9pisodes d\xe9di\xe9s de ",r.a.createElement("a",{href:"https://www.youtube.com/channel/UC1EacOJoqsKaYxaDomTCTEQ"},"Le R\xe9veilleur ",r.a.createElement(Me.a,{type:"youtube"}))," sur Youtube"),r.a.createElement(Le.a.Panel,{header:"Pourquoi un r\xe9acteur est-il \xe0 l\u2019arr\xeat ?",key:"2"},"Un r\xe9acteur peut \xeatre \xe0 l'arr\xeat pour diff\xe9rentes raisons:",r.a.createElement("ul",null,r.a.createElement("li",null,"le rechargement d'une partie du combustible, n\xe9cessaire tous les 12 \xe0 18 mois;"),r.a.createElement("li",null,"une maintenance a \xe9t\xe9 pr\xe9vue et n\xe9cessite l'arr\xeat du r\xe9acteur lors d'une p\xe9riode de faible consommation;"),r.a.createElement("li",null,"un incident ou une d\xe9faillance est survenue."))),r.a.createElement(Le.a.Panel,{header:"Pourquoi certains r\xe9acteurs ne tournent pas \xe0 puissance maximale ?",key:"3"},"Un r\xe9acteur peut fonctionner \xe0 puissance r\xe9duite pour diff\xe9rentes raisons:",r.a.createElement("ul",null,r.a.createElement("li",null,"la consommation ne n\xe9cessite pas toute la puissance du r\xe9acteur"),r.a.createElement("li",null,"une maintenance ne n\xe9cessitant pas l'arr\xeat du r\xe9acteur est en cours."))),r.a.createElement(Le.a.Panel,{header:"Pourquoi cette application ?",key:"4"},"Cette application a pour but de mat\xe9rialiser et rendre accessible les informations disponibles sur l'ensemble du parc \xe9lectro-nucl\xe9aire fran\xe7ais."),r.a.createElement(Le.a.Panel,{header:"Quelles sont les sources de donn\xe9es ?",key:"5"},"Les donn\xe9es de disponibilit\xe9s, de production et de consommation sont disponibles gratuitement via l'API de ",r.a.createElement("a",{href:"https://data.rte-france.com/"},"RTE")),r.a.createElement(Le.a.Panel,{header:"Comment est calcul\xe9 le facteur d\u2019\xe9mission de GES de la production \xe9lectrique ",key:"6"},"Le facteur d'\xe9mission de la production \xe9lectrique est calcul\xe9 \xe0 partir du facteur d'\xe9missions en cycle de vie de chaque type de production. La source principalement utilis\xe9e est l'",r.a.createElement("a",{href:"http://www.bilans-ges.ademe.fr/"},"ADEME")," mais aussi le ",r.a.createElement("a",{href:"https://www.ipcc.ch/site/assets/uploads/2018/02/ipcc_wg3_ar5_annex-iii.pdf"},"GIEC (p. 1335)")," pour le facteur d'\xe9mission des bio\xe9nergies.",r.a.createElement("br",null),"Enfin, les imports sont moyenn\xe9s \xe0 400 gCO\u2082eq/kWh (moyenne europ\xe9enne)"),r.a.createElement(Le.a.Panel,{header:"Pourquoi certaines centrales ont des a\xe9ror\xe9frig\xe9rants et d\u2019autres pas ?",key:"7"},"Certaines centrales, comme celles en bord de mer (mais pas que), sont refroidis en cycle ouvert, l'eau utilis\xe9e est rejet\xe9e directement dans l'environnement.",r.a.createElement("br",null),"D'autres fonctionnent en cycle ferm\xe9, c'est \xe0 dire que l'eau utilis\xe9e est refroidie dans les a\xe9ror\xe9frig\xe9rants (et une partie s'\xe9vapore) puis est r\xe9utilis\xe9e. Cela permet de r\xe9duire l'eau pr\xe9lev\xe9e dans l'environnement (les fleuves)."),r.a.createElement(Le.a.Panel,{header:"Comment la puissance d\u2019un r\xe9acteur peut-elle \xeatre sup\xe9rieure \xe0 sa puissance nominale ?",key:"8"},"Un r\xe9acteur a pleine puissance peut parfois produire plus d'\xe9lectricit\xe9 que sa puissance nominale. En effet, lorsque la source de refroidissement de la centrale est plus froide que pr\xe9vue, le rendement thermodynamique est am\xe9lior\xe9 faisant gagner un peu de puissance.",r.a.createElement("br",null),"Une autre possibilit\xe9 est que la consommation interne de la centrale est r\xe9duite, ce qui augmente l'\xe9lectricit\xe9 distribu\xe9e en sortie de la centrale.")))},Ve=a(88),Ue=a(28),Ge=a.n(Ue);function Fe(e){var t=window.innerWidth;switch(e){case"xs":return t<576;case"sm":return t>=576;case"md":return t>=768;case"lg":return t>=992;case"xl":return t>=1200;case"xxl":return t>=1600;default:return!1}}function He(){var e=document.body,t=document.documentElement;return Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight)}function Be(e){return isNaN(e)?"-":"".concat(e)}var Ke=64,Xe=400;a(68);function Je(e){return I.a.parse(e.search.substr(1)).date||Ge()().startOf("hour").toISOString()}a(454),a(455);var Qe=a(351),Ze=a(166),$e=a.n(Ze),et=a(54),tt={hydroPumped:{label:"POMPAGE",color:"#114774",stackId:"2"},bioenergy:{label:"BIOENERG.",color:"#166a57"},wind:{label:"EOLIEN",color:"#74cdb9"},solar:{label:"SOLAIRE",color:"#f27406"},nuclear:{label:"NUCLEAIRE",color:"#f5b300"},hydro:{label:"HYDRAU.",color:"#2772b2"},gas:{label:"GAS",color:"#f30a0a"},coal:{label:"CHARBON",color:"#ac8c35"},oil:{label:"FIOUL",color:"#8356a2"},exports:{label:"EXPORTS",color:"#969696",stackId:"2"},imports:{label:"IMPORTS",color:"#969696"}},at=["hydroPumped","exports","bioenergy","nuclear","hydro","gas","coal","oil","wind","solar","imports"],nt=["oil","coal","gas","hydro","nuclear","solar","wind","bioenergy","hydroPumped"],rt={bioenergy:230,nuclear:6,hydro:6,gas:418,coal:1060,oil:730,wind:14.1,solar:55,imports:400};function ot(e){return isNaN(e)?"-":"".concat(e)}var it=function(e){var t=e.mix,a=e.slotIndex,n=e.setSlotIndex,o=e.currentDate;return r.a.createElement("div",{className:"MixComponent"},r.a.createElement("div",{className:"MixComponent__header"},nt.map((function(e){return r.a.createElement("div",{key:e,className:"MixComponent__header__item",style:{backgroundColor:tt[e].color}},ot(Math.abs(t[a][e])),r.a.createElement("span",{className:"MixComponent__header__item__small"}," MW"),r.a.createElement("br",null),r.a.createElement("span",{className:"MixComponent__header__item__small"},tt[e].label))})),r.a.createElement("div",{className:"MixComponent__header__item",style:{backgroundColor:tt.imports.color}},ot(Math.max(t[a].imports,-t[a].exports)),r.a.createElement("span",{className:"MixComponent__header__item__small"}," MW"),r.a.createElement("br",null),r.a.createElement("span",{className:"MixComponent__header__item__small"},t[a].exports<0?tt.exports.label:tt.imports.label)),r.a.createElement("div",{className:"MixComponent__header__item",style:{backgroundColor:"black"}},ot(t[a].consumption),r.a.createElement("span",{className:"MixComponent__header__item__small"}," MW"),r.a.createElement("br",null),r.a.createElement("span",{className:"MixComponent__header__item__small"},"CONSO")),r.a.createElement("div",{className:"MixComponent__header__item",style:{color:"black"}},ot(Math.ceil(function(e){var t=Object.keys(rt).reduce((function(t,a){return{e:t.e+e[a]*rt[a],total:t.total+e[a]}}),{e:0,total:0});return t.e/t.total}(t[a]))),r.a.createElement("br",null),r.a.createElement("span",{className:"MixComponent__header__item__small"},"gCO\u2082eq/kWh"))),r.a.createElement("div",{className:"MixComponent__chart"},r.a.createElement(et.f,null,r.a.createElement(et.c,{data:t},r.a.createElement(et.i,{axisLine:!0,mirror:!0}),at.map((function(e){return r.a.createElement(et.a,{key:e,dataKey:e,type:"monotone",activeDot:!1,stroke:"none",fill:tt[e].color,stackId:tt[e].stackId||"1"})})),r.a.createElement(et.d,{dataKey:"consumption",dot:!1,activeDot:!1,type:"monotone",stroke:"black"}),r.a.createElement(et.e,{x:a,stroke:"#4b4e52"})))),r.a.createElement("div",{className:"MixComponent__sliderContainer"},r.a.createElement(Qe.a,{min:0,max:96,style:{width:"100%"},defaultValue:a,onChange:$e()(n,400),tipFormatter:function(e){return p()(o).startOf("day").add(15*e,"minutes").format("HH:mm")}})))};var ct=Object(Ve.c)("slotIndex","setSlotIndex",(function(e){return Ge()().isSame(e.currentDate,"day")?e.mix.filter((function(e){return!Number.isNaN(e.nuclear)})).length-1:4*Ge()(e.currentDate).hours()})),lt=Object(s.b)((function(e,t){var a=Je(t.location);return{currentDate:a,mix:pe({date:a},e)}})),st=Object(s.b)((function(e,t){return{reactorSetIndicators:Z({date:t.currentDate,slotIndex:Math.floor(t.slotIndex/4)},e)}})),ut=Object(Ve.a)(lt,ct,st)((function(e){var t=e.mix,a=e.slotIndex,n=e.setSlotIndex,o=e.reactorSetIndicators,i=e.currentDate,c=o.totalPower,l=o.availablePower,s=o.availableCount,d=o.partiallyUnavailableCount,m=o.totallyUnavailableCount,p=Math.floor(c/1e3),h=Math.floor(l),f=Math.floor(100*l/c),b=Math.floor(100*t[a].nuclear/l),v=Math.max((l-(t[a].nuclear||0))/c*100,0),E=Ge()(i).hour(Math.floor(a/4)).minutes(a%4*15).format("DD/MM/YYYY HH:mm");return r.a.createElement("div",{className:"MixView"},r.a.createElement(De.a,null,r.a.createElement(ke.a,{span:24},r.a.createElement(it,{mix:t,slotIndex:a,setSlotIndex:n,currentDate:i}),r.a.createElement("div",{className:"MixView__date"},Ge()(i).isAfter("2012-01-02")?r.a.createElement(u.b,{to:function(e){return{pathname:e.pathname,search:I.a.stringify({date:Ge()(i).subtract(1,"day").startOf("hour").toISOString()})}}},r.a.createElement(Me.a,{theme:"twoTone",type:"left-circle",style:{fontSize:"18pt"}})):r.a.createElement("div",null),r.a.createElement("div",null,E),Ge()().isSame(i,"day")?r.a.createElement("div",null):r.a.createElement(u.b,{to:function(e){return{pathname:e.pathname,search:I.a.stringify({date:Ge()(i).add(1,"day").startOf("hour").toISOString()})}}},r.a.createElement(Me.a,{theme:"twoTone",type:"right-circle",style:{fontSize:"18pt"}}))),r.a.createElement("div",{className:"MixView__nuclear"},r.a.createElement("strong",null,"Parc nucl\xe9aire (".concat(p," GW):")),r.a.createElement("div",{className:"MixView__nuclear__indicator"},r.a.createElement("div",{className:"MixView__nuclear__indicator__prod",style:{display:t[a].nuclear?"inherit":"none",width:"".concat((t[a].nuclear||0)/c*100,"%")}},r.a.createElement("div",null,"Prod: ".concat(Be(t[a].nuclear)," MW")),r.a.createElement("div",null,"".concat(Be(b),"% du dispo."))),r.a.createElement("div",{className:"MixView__nuclear__indicator__available",style:{width:"".concat(v,"%")}})),r.a.createElement("div",{className:"MixView__nuclear__available"},"".concat(s," r\xe9acteurs disponibles: ").concat(h," MW (").concat(f,"%)")),r.a.createElement("div",null,"dont ".concat(d," partiellement indisponible").concat(d>1?"s":"")),r.a.createElement("div",{className:"MixView__nuclear__stopped"},"".concat(m," r\xe9acteur").concat(m>1?"s":""," arr\xeat\xe9").concat(m>1?"s":""))))))})),dt=(a(316),a(123)),mt=(a(198),a(107)),pt=(a(317),a(185)),ht=(a(318),a(89));a(68).ReactorType;function ft(e){var t={fontSize:16};switch(e.status){case"PLANNED_STOP":return r.a.createElement(Me.a,{type:"tool",theme:"filled",style:Object(v.a)({},t,{color:"#404040"})});case"UNPLANNED_REDUCTION":case"AUTO_STOP":return r.a.createElement(Me.a,{type:"exclamation-circle",theme:"twoTone",twoToneColor:"red",style:t});case"PLANNED_REDUCTION":return r.a.createElement(Me.a,{type:"info-circle",theme:"twoTone",style:t});default:return null}}var bt=function(e){var t=e.reactor,a=e.currentDate,n=t.dayProductions,o=p()(a).hours(),i=t.dayProductions.reduce((function(e,t,a){return null===t.value?e:a}),0),c=n[Math.min(i,o)],l=Math.max(0,c.value),s=Math.floor(l/t.netPower_MW*100);return r.a.createElement("div",{className:"ReactIndicator",style:{background:"linear-gradient(0deg, #26a65b 0%, #26a65b ".concat(s,"%, rgba(255,255,255,1) ").concat(s,"%)")}},r.a.createElement("div",{className:"ReactIndicator__status"},r.a.createElement(ft,{status:t.status})),r.a.createElement("div",{className:"ReactIndicator__prod"},r.a.createElement("strong",null,Math.floor(l))),r.a.createElement("div",{className:"ReactIndicator__number"},t.reactorIndex))},vt=(a(320),a(30)),Et=(a(647),a(78)),yt=a(130),gt=[0,12,24];function _t(e){return e?"".concat(e,":00"):"00:00"}var wt=function(e){var t=e.reactor,a=Object(n.useState)(null),o=Object(yt.a)(a,2),i=o[0],c=o[1],l=i>9?"".concat(i,":00"):"0".concat(i,":00"),s=null!==i&&null!=t.dayProductions[i].value?"".concat(Math.floor(t.dayProductions[i].value)):"-";return r.a.createElement("div",{key:t.name,className:"ReactorLoadChart"},r.a.createElement("div",null,"".concat(null!==i?"\xc0 ".concat(l,": ").concat(s," "):"","MW")),r.a.createElement("div",{className:"ReactorLoadChart__chart"},r.a.createElement(et.f,null,r.a.createElement(et.b,{data:t.dayProductions,onClick:function(e){return c(e&&e.activeTooltipIndex),e}},r.a.createElement(et.h,{domain:[0,24],ticks:gt,tickFormatter:_t}),r.a.createElement(et.i,null),r.a.createElement(et.a,{dataKey:"value",dot:!1,activeDot:function(e){return c(e.index),null},type:"monotone",stroke:"rgb(28, 114, 64)",fill:"rgb(38, 166, 91)",fillOpacity:1}),r.a.createElement(et.g,{content:function(){return null}})))))};var xt=function(e){var t=e.reactor,a=e.currentDate;return r.a.createElement("div",null,r.a.createElement(wt,{reactor:t}),r.a.createElement("div",{className:"MixView__date"},Ge()(a).isAfter("2012-01-02")?r.a.createElement(u.b,{to:function(e){return{pathname:e.pathname,search:I.a.stringify({date:Ge()(a).subtract(1,"day").startOf("hour").toISOString()}),hash:"production"}}},r.a.createElement(Me.a,{theme:"twoTone",type:"left-circle",style:{fontSize:"18pt"}})):r.a.createElement("div",null),r.a.createElement("div",null,Ge()(a).format("DD/MM/YYYY")),Ge()().isSame(a,"day")?r.a.createElement("div",null):r.a.createElement(u.b,{to:function(e){return{pathname:e.pathname,search:I.a.stringify({date:Ge()(a).add(1,"day").startOf("hour").toISOString()}),hash:"production"}}},r.a.createElement(Me.a,{theme:"twoTone",type:"right-circle",style:{fontSize:"18pt"}}))))},Ot=(a(713),a(246));var It=[{title:"",render:function(e,t){return function(e){return"PLANNED_MAINTENANCE"===e.type?e.availablePower_MW>0?r.a.createElement(Me.a,{type:"info-circle",theme:"twoTone"}):r.a.createElement(Me.a,{type:"tool",theme:"filled",style:{color:"#404040"}}):r.a.createElement(Me.a,{type:"exclamation-circle",theme:"twoTone",twoToneColor:"red"})}(t)}},{title:"D\xe9but",dataIndex:"startDate",key:"startDate",render:function(e){return Ge()(e).format("DD/MM/YYYY")}},{title:"Fin",dataIndex:"endDate",key:"endDate",render:function(e){return Ge()(e).format("DD/MM/YYYY")}}];function Nt(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r.a.createElement(vt.a,{size:"small",column:1},t&&r.a.createElement(vt.a.Item,{label:"Type"},"PLANNED_MAINTENANCE"===e.type?"Planifi\xe9e":"Fortuite"),r.a.createElement(vt.a.Item,{label:"Puissance disponible"},"".concat(e.availablePower_MW," MW")),r.a.createElement(vt.a.Item,{label:"Description"},e.reason))}var Dt={loaded:!1,data:{},page:1},kt=10;var Pt=function(e){var t=e.reactor,a=e.currentDate,o=Object(n.useState)(a),i=Object(yt.a)(o,2),c=i[0],l=i[1],s=Object(n.useState)(Dt),u=Object(yt.a)(s,2),d=u[0],m=u[1],p=Object(n.useState)(Dt),h=Object(yt.a)(p,2),f=h[0],b=h[1];Object(n.useEffect)((function(){var e=d.page,n=f.page;a!==c&&(l(a),m(Dt),b(Dt)),d.data[e]||function(e){var t,a;return w.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,w.a.awrap(D("".concat(N,"/unavailabilities/next/?").concat(I.a.stringify(e))));case 2:return t=n.sent,n.next=5,w.a.awrap(t.json());case 5:return a=n.sent,n.abrupt("return",a);case 7:case"end":return n.stop()}}))}({date:a,eicCode:t.eicCode,skip:(d.page-1)*kt,limit:10}).then((function(t){return m(Object(v.a)({},d,{loaded:!0,total:t.total,data:Object(v.a)({},d.data,Object(P.a)({},e,t.data))}))})),f.data[n]||function(e){var t,a;return w.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,w.a.awrap(D("".concat(N,"/unavailabilities/finished/?").concat(I.a.stringify(e))));case 2:return t=n.sent,n.next=5,w.a.awrap(t.json());case 5:return a=n.sent,n.abrupt("return",a);case 7:case"end":return n.stop()}}))}({date:a,eicCode:t.eicCode,skip:(f.page-1)*kt,limit:kt}).then((function(e){return b(Object(v.a)({},f,{loaded:!0,total:e.total,data:Object(v.a)({},f.data,Object(P.a)({},n,e.data))}))}))}),[d,f,d.page,f.page,t.eicCode,c,a]);var E=Ge()(a),y=t.unavailabilities.find((function(e){return E.isAfter(e.startDate)&&E.isBefore(e.endDate)})),g=function(e,t){return e?"current":t&&t.length>0?"next":"done"}(y,d.data[1]);return f.loaded&&d.loaded?r.a.createElement("div",{className:"UnavailabilitiesTab"},r.a.createElement(Le.a,{defaultActiveKey:[g],accordion:!0,expandIconPosition:"right"},y&&r.a.createElement(Le.a.Panel,{header:r.a.createElement("span",null,r.a.createElement(Me.a,{type:"clock-circle",theme:"filled"})," En cours..."),key:"current"},r.a.createElement(vt.a,{size:"small",column:1},r.a.createElement(vt.a.Item,{label:"D\xe9but"},Ge()(y.startDate).format("DD/MM/YYYY HH:mm")),r.a.createElement(vt.a.Item,{label:"Fin"},Ge()(y.endDate).format("DD/MM/YYYY HH:mm")),r.a.createElement(vt.a.Item,{label:"Type"},"PLANNED_MAINTENANCE"===y.type?"Planifi\xe9e":"Fortuite"),r.a.createElement(vt.a.Item,{label:"Puissance disponible"},"".concat(y.availablePower_MW," MW")),r.a.createElement(vt.a.Item,{label:"Description"},y.reason))),d.data[1]&&d.data[1].length>0&&r.a.createElement(Le.a.Panel,{header:r.a.createElement("span",null,r.a.createElement(Me.a,{type:"schedule",theme:"filled"}),"  \xc0 venir (".concat(d.total||"",")")),key:"next"},r.a.createElement(Ot.a,{loading:!d.data[d.page],size:"small",bordered:!1,pagination:d.total>kt&&{current:d.page,total:d.total,pageSize:kt},expandedRowRender:function(e){return Nt(e,!1)},expandRowByClick:!0,indentSize:0,rowKey:"id",columns:It,dataSource:d.data[d.page],onChange:function(e){return m(Object(v.a)({},d,{page:e.current}))}})),r.a.createElement(Le.a.Panel,{header:r.a.createElement("span",null,r.a.createElement(Me.a,{type:"check-square",theme:"filled"}),"  Pass\xe9es (".concat(f.total||"",")")),key:"done"},r.a.createElement(Ot.a,{loading:!f.data[f.page],size:"small",bordered:!1,pagination:f.total>kt&&{current:f.page,total:f.total,pageSize:kt},expandedRowRender:function(e){return Nt(e,!0)},expandRowByClick:!0,indentSize:0,rowKey:"id",columns:It,dataSource:f.data[f.page],onChange:function(e){return b(Object(v.a)({},f,{page:e.current}))}})))):r.a.createElement(Ne.a,{loading:!0,style:{marginLeft:"50%"}})};var Ct=function(e){var t=e.reactor,a=e.currentDate,n=e.currentTab,o=e.setTab,i=n||("RUNNING"===t.status?"production":"unavailabilities");return r.a.createElement("div",{className:"ReactorDetails"},r.a.createElement("div",{className:"ReactorDetails__header"},r.a.createElement("div",{className:"ReactorDetails__headerLine"},r.a.createElement("div",{className:"ReactorDetails__headerLine__left"},r.a.createElement("div",{className:"ReactorDetails__headerLine__title"},t.name),r.a.createElement("div",null,"(".concat(t.netPower_MW," MWe)"))),r.a.createElement("div",null,r.a.createElement(Se,{to:"/plant/".concat(t.plantId)},r.a.createElement(Me.a,{type:"caret-up",theme:"filled"})))),r.a.createElement(Et.a,{activeKey:i,type:"card",onChange:o},r.a.createElement(Et.a.TabPane,{tab:r.a.createElement(Me.a,{type:"bars"}),key:"info"}),r.a.createElement(Et.a.TabPane,{tab:r.a.createElement(Me.a,{type:"thunderbolt",theme:"filled"}),key:"production"}),r.a.createElement(Et.a.TabPane,{tab:r.a.createElement(Me.a,{type:"tool",theme:"filled"}),key:"unavailabilities"}))),r.a.createElement(Et.a,{activeKey:i,onChange:o,renderTabBar:function(){return r.a.createElement("div",null)}},r.a.createElement(Et.a.TabPane,{tab:"",key:"info"},r.a.createElement(vt.a,{size:"small",bordered:!0,column:1},r.a.createElement(vt.a.Item,{label:"Palier"},t.stage),r.a.createElement(vt.a.Item,{label:"Puissance thermique"},"".concat(t.thermalPower_MW," MW")),r.a.createElement(vt.a.Item,{label:"Puissance \xe9lectrique brute"},"".concat(t.rawPower_MW," MW")),r.a.createElement(vt.a.Item,{label:"Puissance \xe9lectrique nette"},"".concat(t.netPower_MW," MW")),r.a.createElement(vt.a.Item,{label:"A\xe9ror\xe9frig\xe9rants"},t.coolingTowerCount),r.a.createElement(vt.a.Item,{label:"D\xe9but de construction"},t.buildStartDate),r.a.createElement(vt.a.Item,{label:"Divergence"},t.firstReactionDate),r.a.createElement(vt.a.Item,{label:"Raccordement au r\xe9seau"},t.gridLinkDate),r.a.createElement(vt.a.Item,{label:"D\xe9but d'exploitation"},t.exploitationStartDate,r.a.createElement("br",null),r.a.createElement("strong",null," (".concat(Ge()().diff(Ge()(t.exploitationStartDate,"DD/MM/YYYY"),"years")," ans)"))),t.moxAuthorizationDate&&r.a.createElement(vt.a.Item,{label:"Authorisation MOX"},t.moxAuthorizationDate))),r.a.createElement(Et.a.TabPane,{tab:"",key:"production"},r.a.createElement(xt,{currentDate:a,reactor:t})),r.a.createElement(Et.a.TabPane,{tab:"",key:"unavailabilities"},r.a.createElement(Pt,{reactor:t,currentDate:a}))))},Mt=(a(676),a(346));var At=function(e){var t=e.plant;return r.a.createElement("div",{className:"PlantPictures"},r.a.createElement("div",{className:"PlantPictures__header"},r.a.createElement("h3",null,"Photos"),r.a.createElement("div",null,r.a.createElement(Se,{to:"/plant/".concat(t.id)},r.a.createElement(Me.a,{type:"caret-up",theme:"filled"})))),r.a.createElement(Mt.a,null,t.pictures.map((function(e){return r.a.createElement("img",{key:e,alt:t.name,src:e})}))))},Rt=(a(688),Object(s.b)((function(e,t){var a=function(e,t){var a=e.plantId,n=e.reactorIndex,r=e.date,o=Object.values(t.reactors.data).find((function(e){return e.plantId===a&&e.reactorIndex===n}));return o&&X({eicCode:o.eicCode,date:r},t)}({date:t.currentDate,plantId:t.match.params.plantId,reactorIndex:Number(t.match.params.reactorIndex)},e);return{reactor:a,setTab:function(e){return t.goTo("/plant/".concat(a.plantId,"/").concat(a.reactorIndex),"#".concat(e))}}}))(Ct));var St=Object(s.b)((function(e,t){var a=t.match.params.plantId,n=Je(t.location);return{currentDate:n,currentTab:t.location.hash.substr(1),plants:ie({date:n},e),currentPlant:oe({plantId:a,date:n},e),reactors:J({plantId:a,date:n},e),goTo:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t.history.push("".concat(e).concat(t.location.search).concat(a))}}}))((function(e){var t,a=e.currentDate,n=e.currentTab,o=e.plants,i=e.currentPlant,c=e.reactors,l=e.goTo;return i?r.a.createElement("div",{className:"PlantView"},r.a.createElement(De.a,null,r.a.createElement(ke.a,{span:24},r.a.createElement("div",{className:"PlantView__firstRow"},r.a.createElement("div",{className:"PlantView__firstRow__left"},r.a.createElement(ht.a,{value:i.id,size:"large",onChange:function(e){return l("/plant/".concat(e))},style:{width:"10em"}},o.map((function(e){return r.a.createElement(ht.a.Option,{key:e.id,value:e.id},e.name)}))),r.a.createElement("span",null,r.a.createElement(pt.a,{style:{marginLeft:"8px"}},"SEA"===i.coolingType?"Mer":"Fleuve"))),r.a.createElement("div",{className:"PlantView__firstRow__right"},r.a.createElement(Se,{to:"/plant/".concat(i.id,"/pictures")},r.a.createElement(mt.a,{icon:"picture",style:{marginRight:5}})),r.a.createElement(dt.a,{overlay:(t=i,r.a.createElement(Ce.a,null,r.a.createElement(Ce.a.Item,null,r.a.createElement("a",{href:t.wikiLink,target:"_blank",rel:"noopener noreferrer"},"Wikipedia")),r.a.createElement(Ce.a.Item,null,r.a.createElement("a",{href:t.asnLink,target:"_blank",rel:"noopener noreferrer"},"ASN")),r.a.createElement(Ce.a.Item,null,r.a.createElement("a",{href:t.edfLink,target:"_blank",rel:"noopener noreferrer"},"EDF")))),trigger:["click"],placement:"bottomRight"},r.a.createElement(mt.a,{icon:"more"})))),r.a.createElement("div",{className:"PlantView__schema"},r.a.createElement("div",null,"Production (MW)"),r.a.createElement("div",{className:"PlantView__reactors"},c.map((function(e){return r.a.createElement(Se,{key:e.eicCode,to:"/plant/".concat(i.id,"/").concat(e.reactorIndex)},r.a.createElement(bt,{reactor:e,currentDate:a}))}))),r.a.createElement("div",{className:"PlantView__cooling",style:{width:50*c.length}},i.coolingPlace)),r.a.createElement("div",{className:"PlantView__footer"},r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/plant/:plantId/pictures",component:function(){return r.a.createElement(At,{plant:i})}}),r.a.createElement(d.b,{path:"/plant/:plantId/:reactorIndex",component:function(e){return r.a.createElement(Rt,Object.assign({},e,{currentTab:n,currentDate:a,goTo:l}))}}),r.a.createElement(d.b,{component:function(){return r.a.createElement("small",null,"(Cliquer sur un r\xe9acteur pour plus de d\xe9tails)")}})))))):r.a.createElement(d.a,{to:"/"})})),jt=a(725),Tt=a(728),Lt=a(729),Yt=a(720),qt=a(726),zt={fillOpacity:1,iconSize:[24,38],circleColor:"white",circleRatio:.6,circleWeight:3};function Wt(e){return e.reactors.reduce((function(e,t){return"RUNNING"!==t.status&&"PLANNED_STOP"!==t.status||e}),!1)}function Vt(e,t){var a=Math.max(p()(t).hours(),0);return e.reactors.reduce((function(e,t){var n=t.dayProductions.reduce((function(e,t,a){return null===t.value?e:a}),0),r=Math.min(n,a);return e+(null!==t.dayProductions[r].value?Math.max(t.dayProductions[r].value,0):0)}),0)/e.reactors.reduce((function(e,t){return e+t.netPower_MW}),0)}function Ut(e){var t=e.plants,a=e.currentPlantId,n=e.onPlantClick,o=e.drawerHeight,i=e.rivers,c=e.currentDate,s=!Fe("sm"),u=He();return r.a.createElement(jt.a,{center:[48.3,2],zoom:s?5:6,style:{height:s?u-Ke-o:u-Ke,marginTop:s?Ke+o:Ke,marginLeft:s?0:Xe},zoomControl:!1},r.a.createElement(Tt.a,{position:"bottomright"}),r.a.createElement(Lt.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),t.map((function(e){return r.a.createElement(Yt.a,{key:e.id,title:e.name,position:e.coords,icon:e.id===a?new l.a.DivIcon.SVGIcon.IndicatorIcon(Object(v.a)({},zt,{color:"red",loadRate:Vt(e,c),notif:Wt(e)})):new l.a.DivIcon.SVGIcon.IndicatorIcon(Object(v.a)({},zt,{loadRate:Vt(e,c),notif:Wt(e)})),onClick:function(){return n(e)}})})),i.map((function(e){return r.a.createElement(qt.a,{key:e.name,data:e})})))}Ut.defaultProps={currentPlantId:null};var Gt=Object(s.b)((function(e,t){return{plants:ie({date:t.currentDate},e),rivers:ge(e)}}))(Ut),Ft=(a(689),a(348)),Ht=a.n(Ft),Bt=(a(715),a(349)),Kt=p()("2012-01-01").toDate(),Xt=p()().endOf("day").toDate();var Jt=Object(Ve.c)("isOpen","setIsOpen",!1)((function(e){var t=e.children,a=e.isOpen,n=e.setIsOpen,o=e.value,i=e.onDate;return r.a.createElement("div",null,r.a.createElement("div",{role:"button",tabIndex:"0",onKeyDown:function(){},onClick:function(){return n(!a)}},t),r.a.createElement(Bt.a,{open:a,style:{display:"none"},defaultValue:p()(o),disabledDate:function(e){return p()().isBefore(e)||p()(Kt).isAfter(e)},showTime:{minuteStep:60,secondStep:60},onOk:function(e){n(!1),i(e)}}))}));var Qt=function(e){var t=e.value,a=e.children,n=e.onDate;return function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e.substr(0,4)))&&(t=!0),t}()?r.a.createElement(Ht.a,{locale:{okText:"OK",dismissText:"Today",DatePickerLocale:{year:"",month:"",day:"",hour:"h",minute:""}},onOk:n,onDismiss:n,value:p()(t).minutes(0).toDate(),minuteStep:60,minDate:Kt,maxDate:Xt},a):r.a.createElement(Jt,{value:t,onDate:n},a)},Zt=a(248),$t=a(180),ea=a(181),ta=a(184),aa=a(182),na=a(186),ra=a(721),oa=a(722),ia=function(e){function t(){return Object($t.a)(this,t),Object(ta.a)(this,Object(aa.a)(t).apply(this,arguments))}return Object(na.a)(t,e),Object(ea.a)(t,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.load)(Object(Zt.a)(e,["load"]))}},{key:"componentDidUpdate",value:function(e){var t=Object(ra.a)(["load"],e),a=this.props,n=a.load,r=Object(Zt.a)(a,["load"]);Object(oa.a)(t,r)||n(r)}},{key:"render",value:function(){return null}}]),t}(n.Component);var ca=function(e){return Object(s.b)(null,{load:e})(ia)},la=ca((function(){return function(e){return e({type:ee}),function(){var e,t;return w.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,w.a.awrap(D("".concat(N,"/plants")));case 2:return e=a.sent,a.next=5,w.a.awrap(e.json());case 5:return t=a.sent,a.abrupt("return",t);case 7:case"end":return a.stop()}}))}().then((function(t){return e(ae({data:Object(E.a)(Object(y.a)("id"),t)}))})).catch((function(t){return console.error(t)||e(ae({errors:t}))}))}})),sa=ca((function(){return function(e){return e({type:U}),function(){var e,t;return w.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,w.a.awrap(D("".concat(N,"/reactors")));case 2:return e=a.sent,a.next=5,w.a.awrap(e.json());case 5:return t=a.sent,a.abrupt("return",t);case 7:case"end":return a.stop()}}))}().then((function(t){return e(F({data:Object(E.a)(Object(y.a)("eicCode"),t)}))})).catch((function(t){return console.error(t)||e(F({errors:t}))}))}})),ua=ca((function(e){var t=e.date,a=p()(t).format("YYYY-MM-DD");return function(e,t){return S({date:a},t())?Promise.resolve():(e(function(e){var t=e.date;return{type:C,date:t}}({date:a})),function(e){var t,a,n;return w.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.date,r.next=3,w.a.awrap(D("".concat(N,"/productions?").concat(I.a.stringify({date:t}))));case 3:return a=r.sent,r.next=6,w.a.awrap(a.json());case 6:return n=r.sent,r.abrupt("return",n);case 8:case"end":return r.stop()}}))}({date:a}).then((function(t){return e(A({date:a,data:t}))})).catch((function(t){return console.error(t)||e(A({date:a,errors:t}))})))}})),da=ca((function(e){var t=e.date,a=p()(t).format("YYYY-MM-DD");return function(e,t){return me({date:a},t())?Promise.resolve():(e(function(e){var t=e.date;return{type:le,date:t}}({date:a})),function(e){var t,a,n,r,o;return w.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.date,i.next=3,w.a.awrap(D("".concat(N,"/mix?").concat(I.a.stringify({date:t}))));case 3:return a=i.sent,i.next=6,w.a.awrap(a.json());case 6:if(n=i.sent,!((r=n.mix).length<1)){i.next=10;break}return i.abrupt("return",[]);case 10:return o=Array.from({length:100-r.length}).map((function(){return Object(x.a)((function(){return NaN}),r[0])})),i.abrupt("return",{date:n.date,mix:r.concat(o)});case 12:case"end":return i.stop()}}))}({date:a}).then((function(t){return e(ue({date:a,data:t}))})).catch((function(t){return console.error(t)||e(ue({date:a,errors:t}))})))}})),ma=ca((function(e){var t=e.date,a=p()(t).format("YYYY-MM-DD");return function(e,t){return W({date:a},t())?Promise.resolve():(e(function(e){var t=e.date;return{type:T,date:t}}({date:a})),function(e){var t,a,n;return w.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.date,r.next=3,w.a.awrap(D("".concat(N,"/unavailabilities?").concat(I.a.stringify({date:t}))));case 3:return a=r.sent,r.next=6,w.a.awrap(a.json());case 6:return n=r.sent,r.abrupt("return",n);case 8:case"end":return r.stop()}}))}({date:a}).then((function(t){return e(q({date:a,data:t}))})).catch((function(t){return console.error(t)||e(q({date:a,errors:t}))})))}})),pa=ca((function(){return function(e){return e({type:fe}),w.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(["garonne","loire","meuse","moselle","rhin","rhone","seine"].map((function(e){return fetch("./rivers/".concat(e,".json")).then((function(e){return e.json()})).then((function(t){return Object(v.a)({},t,{name:e})}))}))));case 1:case"end":return e.stop()}})).then((function(t){return e(ve({data:t}))})).catch((function(t){return console.error(t)||e(ve({errors:t}))}))}}));function ha(e){var t=e.isLoaded,a=e.error,n=e.currentPlantId,o=e.currentLocation,i=e.currentDate,c=e.isFullPage,l=e.goTo,s=!Fe("sm"),u=c?He()-Ke:220;return r.a.createElement("div",{className:"AppLayout"},r.a.createElement(la,null),r.a.createElement(sa,null),r.a.createElement(pa,null),r.a.createElement(ua,{date:i}),r.a.createElement(da,{date:i}),r.a.createElement(ma,{date:i}),r.a.createElement(Ne.a,{size:"large",spinning:!t,indicator:r.a.createElement("div",null,r.a.createElement("img",{className:"AppLayout__loadingIcon",src:"loading_icon.svg",alt:""}),a&&r.a.createElement("div",{className:"AppLayout__errorMessage"},"Une erreur est survenue, veuillez essayer dans quelques minutes"))},!t&&r.a.createElement("div",{className:"AppLayout__splash"}),t&&r.a.createElement(Pe.a,null,r.a.createElement(Ae.a,{title:null,visible:!0,placement:s?"top":"left",style:{marginTop:Ke},mask:!1,closable:!1,width:Xe,height:u,bodyStyle:{padding:0},drawerStyle:{transition:"height 2s ease"}},r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/home",exact:!0,component:Te}),r.a.createElement(d.b,{path:"/mix",exact:!0,component:ut}),r.a.createElement(d.b,{path:"/about",exact:!0,component:We}),r.a.createElement(d.b,{path:"/plant/:plantId",component:St}),r.a.createElement(d.b,{component:function(){return r.a.createElement(d.a,{to:{pathname:"/home"}})}}))),r.a.createElement(De.a,null,r.a.createElement(ke.a,{span:24},r.a.createElement(Pe.a.Header,{className:"AppLayout__header"},r.a.createElement(Ce.a,{theme:"dark",mode:"horizontal",className:"AppLayout__menu",selectable:!1},r.a.createElement(Ce.a.SubMenu,{title:r.a.createElement("span",null,r.a.createElement(Me.a,{type:"menu"}),r.a.createElement("strong",null,"Nuclear monitor")),popupClassName:"AppLayout__submenu"},r.a.createElement(Ce.a.Item,{key:"home"},r.a.createElement(Se,{to:"/home"},"Accueil")),r.a.createElement(Ce.a.Item,{key:"mix"},r.a.createElement(Se,{to:"/mix"},"Mix")),r.a.createElement(Ce.a.Item,{key:"about"},r.a.createElement(Se,{to:"/about"},"\xc0 propos")))),r.a.createElement(Qt,{onDate:function(e){return p()(e).isSame(p()(),"day")?l("".concat(o),!1):l("".concat(o,"?date=").concat(p()(e).toISOString()),!1)},value:i},r.a.createElement("div",{className:"AppLayout__header__date"},r.a.createElement("div",{className:"AppLayout__header__date__text"},r.a.createElement("div",null,p()(i).format("dddd DD/MM/YYYY")),r.a.createElement("div",null,p()(i).format("\xe0 HH:00"))),r.a.createElement("div",{className:"AppLayout__header__date__calendar"},r.a.createElement(Me.a,{type:"calendar",theme:"twoTone",twoToneColor:"white"}))))),r.a.createElement(Pe.a.Content,{className:"AppLayout__content"},r.a.createElement(Gt,{currentDate:i,currentPlantId:n,onPlantClick:function(e){return l("/plant/".concat(e.id))},drawerHeight:u})))))))}ha.defaultProps={currentPlantId:null,error:null};var fa,ba=Object(d.g)(Object(s.b)((function(e,t){var a=Object(d.f)(t.location.pathname,{path:"/plant/:id",exact:!1}),n=Je(t.location),r=function(e,t){var a=e.date,n=p()(a).format("YYYY-MM-DD");return t.mix[n]&&t.mix[n].errors}({date:n},e),o=function(e,t){var a=e.date,n=p()(a).format("YYYY-MM-DD");return t.productions[n]&&t.productions[n].errors}({date:n},e),i=function(e,t){var a=e.date,n=p()(a).format("YYYY-MM-DD");return t.unavailabilities[n]&&t.unavailabilities[n].errors}({date:n},e);return{isLoaded:re(e)&&B(e)&&S({date:n},e)&&me({date:n},e)&&W({date:n},e)&&ye(e)||!1,error:o||i||r,goTo:function(e){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.history.push("".concat(e).concat(a?t.location.search:""))},currentLocation:t.location.pathname,currentPlantId:a&&a.params.id,currentDate:n,isFullPage:!!Object(d.f)(t.location.pathname,{path:["/plant/:id/:reactorIndex","/mix","/about"]})}}))(ha)),va=a(247),Ea=(fa="tracker.pageview",va.a);va.a.initialize("UA-153111142-1",{siteSpeedSampleRate:100});var ya=function(e){function t(){return Object($t.a)(this,t),Object(ta.a)(this,Object(aa.a)(t).apply(this,arguments))}return Object(na.a)(t,e),Object(ea.a)(t,[{key:"componentDidMount",value:function(){this.trackPage()}},{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&this.trackPage()}},{key:"trackPage",value:function(){var e=this.props.location;Ea.set({location:e}),Ea.pageview(e)}},{key:"render",value:function(){var e=this.props.children;return r.a.createElement("div",null,e)}}]),t}(n.Component),ga=Object(Ve.a)(d.g,Object(Ve.b)((function(e){return{location:"".concat(e.location.pathname).concat(e.location.search)}})))(ya);p.a.locale("fr"),p.a.tz.setDefault("Europe/Paris");var _a=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(s.a,{store:Ie},r.a.createElement(u.a,null,r.a.createElement(d.b,{path:"/"},r.a.createElement(ga,null,r.a.createElement(ba,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(_a,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[375,1,2]]]);
//# sourceMappingURL=main.c1efe475.chunk.js.map