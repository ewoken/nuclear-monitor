(this["webpackJsonpnuclear-monitor"]=this["webpackJsonpnuclear-monitor"]||[]).push([[0],{343:function(e,t,a){e.exports=a(661)},348:function(e,t,a){},366:function(e,t){},434:function(e,t,a){},437:function(e,t,a){},637:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t),a.d(t,"ProductionType",(function(){return o})),a.d(t,"UnavailabilityType",(function(){return l})),a.d(t,"PlantType",(function(){return i})),a.d(t,"ReactorType",(function(){return c})),a.d(t,"MixType",(function(){return s}));var n=a(0),r=a.n(n);const o=r.a.shape({value:r.a.number}),l=r.a.shape({id:r.a.string.isRequired,updatedAt:r.a.string.isRequired,startDate:r.a.string.isRequired,endDate:r.a.string.isRequired,type:r.a.string.isRequired,eicCode:r.a.string.isRequired,reason:r.a.string.isRequired,status:r.a.string,availablePower_MW:r.a.number.isRequired,updates:r.a.arrayOf(r.a.object).isRequired}),i=r.a.shape({id:r.a.string.isRequired,name:r.a.string.isRequired,coords:r.a.arrayOf(r.a.number).isRequired,coolingType:r.a.string.isRequired,coolingPlace:r.a.string.isRequired,wikiLink:r.a.string.isRequired,asnLink:r.a.string.isRequired,edfLink:r.a.string.isRequired,pictures:r.a.arrayOf(r.a.string).isRequired}),c=r.a.shape({eicCode:r.a.string.isRequired,plantId:r.a.string.isRequired,reactorIndex:r.a.number.isRequired,name:r.a.string.isRequired,stage:r.a.string.isRequired,thermalPower_MW:r.a.number.isRequired,rawPower_MW:r.a.number.isRequired,netPower_MW:r.a.number.isRequired,buildStartDate:r.a.string.isRequired,firstReactionDate:r.a.string.isRequired,gridLinkDate:r.a.string.isRequired,exploitationStartDate:r.a.string.isRequired,moxAuthorizationDate:r.a.string.isRequired,coolingTowerCount:r.a.number.isRequired,dayProductions:r.a.arrayOf(o).isRequired,unavailabilities:r.a.arrayOf(l).isRequired}),s=r.a.shape({wind:r.a.number.isRequired,solar:r.a.number.isRequired,nuclear:r.a.number.isRequired,gas:r.a.number.isRequired,oil:r.a.number.isRequired,coal:r.a.number.isRequired,consumption:r.a.number.isRequired,biomass:r.a.number.isRequired,hydroPumped:r.a.number.isRequired,hydro:r.a.number.isRequired,imports:r.a.number.isRequired,exports:r.a.number.isRequired})},661:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(11),l=a.n(o),i=(a(348),a(28)),c=a.n(i);L.DivIcon.SVGIcon=L.DivIcon.extend({options:{circleText:"",className:"svg-icon",circleAnchor:null,circleColor:null,circleOpacity:null,circleFillColor:"rgb(255,255,255)",circleFillOpacity:null,circleRatio:.5,circleWeight:null,color:"rgb(0,102,255)",fillColor:null,fillOpacity:.4,fontColor:"rgb(0, 0, 0)",fontOpacity:"1",fontSize:null,fontWeight:"normal",iconAnchor:null,iconSize:L.point(32,48),opacity:1,popupAnchor:null,weight:2},initialize:function(e){(e=L.Util.setOptions(this,e)).iconSize=L.point(e.iconSize),e.circleAnchor?e.circleAnchor=L.point(e.circleAnchor):e.circleAnchor=L.point(Number(e.iconSize.x)/2,Number(e.iconSize.x)/2),e.circleColor||(e.circleColor=e.color),e.circleFillOpacity||(e.circleFillOpacity=e.opacity),e.circleOpacity||(e.circleOpacity=e.opacity),e.circleWeight||(e.circleWeight=e.weight),e.fillColor||(e.fillColor=e.color),e.fontSize||(e.fontSize=Number(e.iconSize.x/4)),e.iconAnchor?e.iconAnchor=L.point(e.iconAnchor):e.iconAnchor=L.point(Number(e.iconSize.x)/2,Number(e.iconSize.y)),e.popupAnchor?e.popupAnchor=L.point(e.popupAnchor):e.popupAnchor=L.point(0,-.75*e.iconSize.y),e.html=this._createSVG()},_createCircle:function(){var e=Number(this.options.circleAnchor.x),t=Number(this.options.circleAnchor.y),a=this.options.iconSize.x/2*Number(this.options.circleRatio),n=this.options.circleFillColor,r=this.options.circleFillOpacity,o=this.options.circleColor,l=this.options.circleOpacity,i=this.options.circleWeight;return'<circle class="'+(this.options.className+"-circle")+'" cx="'+e+'" cy="'+t+'" r="'+a+'" fill="'+n+'" fill-opacity="'+r+'" stroke="'+o+'" stroke-opacity='+l+'" stroke-width="'+i+'"/>'},_createPathDescription:function(){var e=Number(this.options.iconSize.y),t=Number(this.options.iconSize.x),a=Number(this.options.weight),n=a/2;return"M "+n+" "+t/2+" "+("L "+t/2+" "+(e-a)+" ")+("L "+(t-n)+" "+t/2+" ")+("A "+t/4+" "+t/4+" 0 0 0 "+n+" "+t/2+" Z")},_createPath:function(){var e=this._createPathDescription(),t=this.options.weight,a=this.options.color,n=this.options.opacity,r=this.options.fillColor,o=this.options.fillOpacity;return'<path class="'+(this.options.className+"-path")+'" d="'+e+'" stroke-width="'+t+'" stroke="'+a+'" stroke-opacity="'+n+'" fill="'+r+'" fill-opacity="'+o+'"/>'},_createSVG:function(){var e=this._createPath(),t=this._createCircle(),a=this._createText();return'<svg xmlns="http://www.w3.org/2000/svg" version="1.1" class="'+(this.options.className+"-svg")+'" style="'+("width:"+this.options.iconSize.x+"px; height:"+this.options.iconSize.y+"px; "+this.options.style)+'">'+e+t+a+"</svg>"},_createText:function(){var e=this.options.fontSize+"px",t=this.options.fontWeight,a=Number(this.options.fontSize),n=this.options.circleAnchor.x,r=this.options.circleAnchor.y+.35*a,o=this.options.circleText;return'<text text-anchor="middle" x="'+n+'" y="'+r+'" style="font-size: '+e+"; font-weight: "+t+'" fill="'+this.options.fontColor.replace("rgb(","rgba(").replace(")",","+this.options.fontOpacity+")")+'">'+o+"</text>"}}),L.divIcon.svgIcon=function(e){return new L.DivIcon.SVGIcon(e)},L.Marker.SVGMarker=L.Marker.extend({options:{iconFactory:L.divIcon.svgIcon,iconOptions:{}},initialize:function(e,t){(t=L.Util.setOptions(this,t)).icon=t.iconFactory(t.iconOptions),this._latlng=e},onAdd:function(e){L.Marker.prototype.onAdd.call(this,e)},setStyle:function(e){if(this._icon){this._icon.children[0];var t=this._icon.children[0].children[0],a=this._icon.children[0].children[1];if(e.color&&!e.iconOptions){var n=e.color.replace("rgb","rgba").replace(")",","+this.options.icon.options.opacity+")"),r=e.color.replace("rgb","rgba").replace(")",","+this.options.icon.options.fillOpacity+")");t.setAttribute("stroke",n),t.setAttribute("fill",r),a.setAttribute("stroke",n),this.options.icon.fillColor=r,this.options.icon.color=n,this.options.icon.circleColor=n}if(e.opacity&&this.setOpacity(e.opacity),e.iconOptions){e.color&&(e.iconOptions.color=e.color);var o=L.Util.setOptions(this.options.icon,e.iconOptions);this.setIcon(L.divIcon.svgIcon(o))}}}}),L.marker.svgMarker=function(e,t){return new L.Marker.SVGMarker(e,t)},L.DivIcon.SVGIcon.IndicatorIcon=L.DivIcon.SVGIcon.extend({_createCircle(){const e=L.DivIcon.SVGIcon.prototype._createCircle.call(this),t=Number(this.options.circleAnchor.x),a=Number(this.options.circleAnchor.y),n=this.options.iconSize.x/2*Number(this.options.circleRatio),r=Math.PI*n,o=this.options.loadRate*r,l='<circle r="3" cx="'.concat(5,'" cy="',5,'"\n        style="\n          fill: red;\n          stroke: none;\n        "\n      >\n      </circle>'),i='\n        <circle r="'.concat(n/2,'" cx="').concat(t,'" cy="').concat(a,'"\n          style="\n            transform: rotateZ(-90deg);\n            transform-origin: ').concat(t,"px ").concat(a,"px;\n            fill: none;\n            stroke-width: ").concat(n,";\n            stroke: rgb(38, 166, 91);\n            stroke-dasharray: ").concat(o," ").concat(r,';\n            "\n        >\n        </circle>');return this.options.notif?e+i+l:e+i},_createSVG:function(){var e=this._createPath(),t=this._createCircle(),a=this._createText();return'<svg xmlns="http://www.w3.org/2000/svg" version="1.1" class="'+(this.options.className+"-svg")+'" style="'+("width:"+this.options.iconSize.x+"px; height:"+this.options.iconSize.y+"px;")+'">'+e+t+a+"</svg>"}});var s=a(44),u=a(51),d=a(84),m=a(9),p=a.n(m),h=(a(353),a(94)),E=a(296),f=a(297),b=a(674),g=a(677),v=a(668),y=a(673),_=a(45),w=a.n(_);const{REACT_APP_NUCLEAR_MONITOR_API:I}=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_NUCLEAR_MONITOR_API:"https://nuclear-monitor.onrender.com"});async function N(){const e=await fetch(...arguments);if(!e.ok)throw new Error("Fetch error");return e}var x=a(669);function C(e){let{date:t,data:a,errors:n}=e;return{type:"PRODUCTIONS_RECEIVE_ACTION",date:t,data:a,errors:n}}const O={};function D(e,t){let{date:a}=e;const n=p()(a).format("YYYY-MM-DD");return t.productions[n]&&t.productions[n].loaded}var P=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;const{type:a}=t;switch(a){case"PRODUCTIONS_LOAD_ACTION":return{...e,[t.date]:{loading:!0,loaded:!1,errors:null,data:{}}};case"PRODUCTIONS_RECEIVE_ACTION":return{...e,[t.date]:{loading:!1,loaded:!t.errors,errors:t.errors||null,data:Object(b.a)(Object(g.a)("eicCode"),t.data.productions)}};default:return e}};function A(e){let{date:t,data:a,errors:n}=e;return{type:"UNAVAILABILITIES_RECEIVE_ACTION",date:t,data:a,errors:n}}const k={};function M(e,t){let{date:a}=e;const n=p()(a).format("YYYY-MM-DD");return t.unavailabilities[n]&&t.unavailabilities[n].loaded}var R=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;const{type:a}=t;switch(a){case"UNAVAILABILITIES_LOAD_ACTION":return{...e,[t.date]:{loading:!0,loaded:!0,errors:null,data:[]}};case"UNAVAILABILITIES_RECEIVE_ACTION":return{...e,[t.date]:{loading:!1,loaded:!t.errors,errors:t.errors||null,data:t.data}};default:return e}};function S(e){let{data:t,errors:a}=e;return{type:"REACTORS_RECEIVE_ACTION",data:t,errors:a}}const T={loading:!1,loaded:!1,errors:null,data:{}};function Y(e){return e.reactors.loaded}function q(e,t){const a=p()(t),n=e.find(e=>a.isAfter(e.startDate)&&a.isBefore(e.endDate));return n?"PLANNED_MAINTENANCE"===n.type?0===n.availablePower_MW?"PLANNED_STOP":"PLANNED_REDUCTION":0===n.availablePower_MW?"AUTO_STOP":"UNPLANNED_REDUCTION":"RUNNING"}function z(e,t){let{eicCode:a,date:n}=e;const r=t.reactors.data[a],o=function(e,t){let{date:a,eicCode:n}=e;const r=p()(a).format("YYYY-MM-DD");if(t.productions[r]&&t.productions[r].data[n]){const e=t.productions[r].data[n].values,a=Array.from({length:24-e.length+1}).map(()=>({value:null}));return e.map(e=>({value:Math.max(e.value,0)})).concat(a)}return null}({eicCode:a,date:n},t),l=function(e,t){let{date:a,eicCode:n}=e;const r=p()(a).format("YYYY-MM-DD");return t.unavailabilities[r]&&t.unavailabilities[r].data.filter(e=>e.eicCode===n)}({eicCode:a,date:n},t);return{...r,status:q(l,n),dayProductions:o,unavailabilities:l}}function j(e,t){let{plantId:a,date:n}=e;const r=Object.values(t.reactors.data).filter(e=>e.plantId===a).map(e=>z({eicCode:e.eicCode,date:n},t));return Object(x.a)(Object(g.a)("reactorIndex"),r)}const V={availablePower:0,totalPower:0,availableCount:0,partiallyUnavailableCount:0,totallyUnavailableCount:0};function W(e,t){let{date:a,slotIndex:n}=e;const r=p()(a).startOf("day").add(15*n,"minutes");return function(e,t){let{date:a}=e;return Object(v.a)(t.reactors.data).map(e=>z({eicCode:e.eicCode,date:a},t))}({date:a},t).reduce((e,t)=>{const a={availablePower:0,availableCount:0,partially:0,totally:0},n=t.unavailabilities.find(e=>r.isAfter(e.startDate)&&r.isBefore(e.endDate));return n?(0===n.availablePower_MW?a.totally=1:(a.availableCount=1,a.partially=1),a.availablePower=n.availablePower_MW):(a.availableCount=1,a.availablePower=t.netPower_MW),{totalPower:e.totalPower+t.netPower_MW,availablePower:e.availablePower+a.availablePower,availableCount:e.availableCount+a.availableCount,totallyUnavailableCount:e.totallyUnavailableCount+a.totally,partiallyUnavailableCount:e.partiallyUnavailableCount+a.partially}},V)}var U=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;const{type:a}=t;switch(a){case"REACTORS_LOAD_ACTION":return{...e,loading:!0};case"REACTORS_RECEIVE_ACTION":return{...e,loading:!1,loaded:!t.errors,errors:t.errors||null,data:t.data||{}};default:return e}};function H(e){let{data:t,errors:a}=e;return{type:"PLANTS_RECEIVE_ACTION",data:t,errors:a}}const G={loading:!1,loaded:!1,errors:null,data:{}};function F(e){return e.plants.loaded}function B(e,t){let{plantId:a,date:n}=e;return t.plants.data[a]&&{...t.plants.data[a],reactors:j({plantId:a,date:n},t)}}function K(e,t){let{date:a}=e;return Object(v.a)(t.plants.data).map(e=>B({plantId:e.id,date:a},t))}var X=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;const{type:a}=t;switch(a){case"PLANTS_LOAD_ACTION":return{...e,loading:!0};case"PLANTS_RECEIVE_ACTION":return{...e,loading:!1,loaded:!t.errors,errors:t.errors||null,data:t.data||{}};default:return e}};function J(e){let{date:t,data:a,errors:n}=e;return{type:"MIX_RECEIVE_ACTION",date:t,data:a,errors:n}}const Q={};function Z(e,t){let{date:a}=e;const n=p()(a).format("YYYY-MM-DD");return t.mix[n]&&t.mix[n].loaded}function $(e,t){let{date:a}=e;const n=p()(a).format("YYYY-MM-DD");return t.mix[n]&&t.mix[n].data}var ee=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;const{type:a}=t;switch(a){case"MIX_LOAD_ACTION":return{...e,[t.date]:{loading:!0,loaded:!1,errors:null,data:{}}};case"MIX_RECEIVE_ACTION":return{...e,[t.date]:{loading:!1,loaded:!t.errors,errors:t.errors||null,data:t.data.mix}};default:return e}};function te(e){let{data:t,errors:a}=e;return{type:"RIVERS_RECEIVE_ACTION",data:t,errors:a}}const ae={loading:!1,loaded:!1,errors:null,data:{}};function ne(e){return e.rivers.loaded}function re(e){return e.rivers.data}var oe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;const{type:a}=t;switch(a){case"RIVERS_LOAD_ACTION":return{...e,loading:!0};case"RIVERS_RECEIVE_ACTION":return{...e,loading:!1,loaded:!t.errors,errors:t.errors||null,data:t.data||{}};default:return e}};const le=Object(h.combineReducers)({plants:X,reactors:U,productions:P,mix:ee,unavailabilities:R,rivers:oe}),ie=[Object(h.applyMiddleware)(f.a)],ce=Object(E.composeWithDevTools)({})(...ie);var se=Object(h.createStore)(le,ce),ue=(a(180),a(116)),de=(a(181),a(119)),me=(a(182),a(120)),pe=(a(370),a(175)),he=(a(232),a(48)),Ee=(a(76),a(7)),fe=(a(375),a(318)),be=(a(377),a(317));var ge=function(e){let{to:t,children:a}=e;return r.a.createElement(u.b,{to:e=>({pathname:t,search:e.search})},a)};const{Title:ve}=be.a;var ye=function(){return r.a.createElement("div",{className:"HomeView"},r.a.createElement(ve,{level:2},"Bienvenue"),r.a.createElement("div",null,r.a.createElement("strong",null,"Nuclear monitor")," vous permet de consulter:",r.a.createElement("ul",null,r.a.createElement("li",null,"le ",r.a.createElement(ge,{to:"/mix"},"mix")," de production d'\xe9lectricit\xe9"),r.a.createElement("li",null,"l'\xe9tat d'une ",r.a.createElement(ge,{to:"/plant/GRAVELINES"},"centrale")," ou d'un ",r.a.createElement(ge,{to:"/plant/BLAYAIS/3"},"r\xe9acteur")))),r.a.createElement("div",{className:"HomeView__marker"},"Cliquer sur une centrale pour en savoir plus..."))},_e=(a(247),a(42)),we=(a(430),a(300)),Ie=(a(432),a(301));a(434);function Ne(){return r.a.createElement("div",null,r.a.createElement("p",null,"Ce site est open-source, vous pouvez consulter son code source ici: ",r.a.createElement("br",null),r.a.createElement("a",{href:"https://github.com/ewoken/nuclear-monitor",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(Ee.a,{type:"github"})," nuclear-monitor")),r.a.createElement("p",null,"N'h\xe9sitez pas \xe0 me remontez des bugs ou suggestions sur Github ou Twitter:",r.a.createElement("br",null),r.a.createElement("a",{href:"https://twitter.com/Yugnat95",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(Ee.a,{type:"twitter"}),"\xa0@Yugnat95")),r.a.createElement("p",null,"D'autres sites pour suivre les donn\xe9es \xe9lectriques:",r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"https://www.rte-france.com/fr/eco2mix/eco2mix-mix-energetique",target:"blanck"},"\xe9co2mix")),r.a.createElement("li",null,r.a.createElement("a",{href:"https://www.electricitymap.org",target:"blanck"},"electricity-map")),r.a.createElement("li",null,r.a.createElement("a",{href:"http://www.facteurs-charge.fr/",target:"blanck"},"facteurs-charge.fr")))))}var xe=function(){return r.a.createElement("div",{className:"AboutView"},r.a.createElement("h2",null,"\xc0 propos"),r.a.createElement("div",null,r.a.createElement(we.a,{avatar:r.a.createElement("a",{href:"https://github.com/ewoken",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(Ie.a,{src:"https://avatars3.githubusercontent.com/u/8919530?s=460&v=4"})),content:r.a.createElement(Ne,null)})),r.a.createElement("h2",null,"Foire aux questions"),r.a.createElement(_e.a,{accordion:!0,bordered:!1},r.a.createElement(_e.a.Panel,{header:"Comment fonctionne un r\xe9acteur nucl\xe9aire ?",key:"1"},"Explication en moins de 3 min:",r.a.createElement("iframe",{title:"Youtube",width:"100%",src:"https://www.youtube.com/embed/I09DhTubNqE",frameBorder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}),"Si vous voulez plus de d\xe9tails, nous vous recommendons d'aller regarder les \xe9pisodes d\xe9di\xe9s de ",r.a.createElement("a",{href:"https://www.youtube.com/channel/UC1EacOJoqsKaYxaDomTCTEQ"},"Le R\xe9veilleur ",r.a.createElement(Ee.a,{type:"youtube"}))," sur Youtube"),r.a.createElement(_e.a.Panel,{header:"Pourquoi un r\xe9acteur est-il \xe0 l\u2019arr\xeat ?",key:"2"},"Un r\xe9acteur peut \xeatre \xe0 l'arr\xeat pour diff\xe9rentes raisons:",r.a.createElement("ul",null,r.a.createElement("li",null,"le rechargement d'une partie du combustible, n\xe9cessaire tous les 12 \xe0 18 mois;"),r.a.createElement("li",null,"une maintenance a \xe9t\xe9 pr\xe9vue et n\xe9cessite l'arr\xeat du r\xe9acteur lors d'une p\xe9riode de faible consommation;"),r.a.createElement("li",null,"un incident ou une d\xe9faillance est survenue."))),r.a.createElement(_e.a.Panel,{header:"Pourquoi certains r\xe9acteurs ne tournent pas \xe0 puissance maximale ?",key:"3"},"Un r\xe9acteur peut fonctionner \xe0 puissance r\xe9duite pour diff\xe9rentes raisons:",r.a.createElement("ul",null,r.a.createElement("li",null,"la consommation ne n\xe9cessite pas toute la puissance du r\xe9acteur"),r.a.createElement("li",null,"une maintenance ne n\xe9cessitant pas l'arr\xeat du r\xe9acteur est en cours."))),r.a.createElement(_e.a.Panel,{header:"Pourquoi cette application ?",key:"4"},"Cette application a pour but de mat\xe9rialiser et rendre accessible les informations disponibles sur l'ensemble du parc \xe9lectro-nucl\xe9aire fran\xe7ais."),r.a.createElement(_e.a.Panel,{header:"Quelles sont les sources de donn\xe9es ?",key:"5"},"Les donn\xe9es de disponibilit\xe9s, de production et de consommation sont disponibles gratuitement via l'API de ",r.a.createElement("a",{href:"https://data.rte-france.com/"},"RTE")),r.a.createElement(_e.a.Panel,{header:"Comment est calcul\xe9 le facteur d\u2019\xe9mission de GES de la production \xe9lectrique ",key:"6"},"Le facteur d'\xe9mission de la production \xe9lectrique est calcul\xe9 \xe0 partir du facteur d'\xe9missions en cycle de vie de chaque type de production. La source principalement utilis\xe9e est l'",r.a.createElement("a",{href:"http://www.bilans-ges.ademe.fr/"},"ADEME")," mais aussi le ",r.a.createElement("a",{href:"https://www.ipcc.ch/site/assets/uploads/2018/02/ipcc_wg3_ar5_annex-iii.pdf"},"GIEC (p. 1335)")," pour le facteur d'\xe9mission des bio\xe9nergies.",r.a.createElement("br",null),"Enfin, les imports sont moyenn\xe9s \xe0 400 gCO\u2082eq/kWh (moyenne europ\xe9enne)"),r.a.createElement(_e.a.Panel,{header:"Pourquoi certaines centrales ont des a\xe9ror\xe9frig\xe9rants et d\u2019autres pas ?",key:"7"},"Certaines centrales, comme celles en bord de mer (mais pas que), sont refroidis en cycle ouvert, l'eau utilis\xe9e est rejet\xe9e directement dans l'environnement.",r.a.createElement("br",null),"D'autres fonctionnent en cycle ferm\xe9, c'est \xe0 dire que l'eau utilis\xe9e est refroidie dans les a\xe9ror\xe9frig\xe9rants (et une partie s'\xe9vapore) puis est r\xe9utilis\xe9e. Cela permet de r\xe9duire l'eau pr\xe9lev\xe9e dans l'environnement (les fleuves)."),r.a.createElement(_e.a.Panel,{header:"Comment la puissance d\u2019un r\xe9acteur peut-elle \xeatre sup\xe9rieure \xe0 sa puissance nominale ?",key:"8"},"Un r\xe9acteur a pleine puissance peut parfois produire plus d'\xe9lectricit\xe9 que sa puissance nominale. En effet, lorsque la source de refroidissement de la centrale est plus froide que pr\xe9vue, le rendement thermodynamique est am\xe9lior\xe9 faisant gagner un peu de puissance.",r.a.createElement("br",null),"Une autre possibilit\xe9 est que la consommation interne de la centrale est r\xe9duite, ce qui augmente l'\xe9lectricit\xe9 distribu\xe9e en sortie de la centrale.")))},Ce=a(82),Oe=a(26),De=a.n(Oe);function Pe(e){const t=window.innerWidth;switch(e){case"xs":return t<576;case"sm":return t>=576;case"md":return t>=768;case"lg":return t>=992;case"xl":return t>=1200;case"xxl":return t>=1600;default:return!1}}function Ae(){const{body:e}=document,t=document.documentElement;return Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight)}function ke(e){return isNaN(e)?"-":"".concat(e)}a(65);function Me(e){return w.a.parse(e.search.substr(1)).date||De()().startOf("hour").toISOString()}a(437),a(438);var Re=a(319),Se=a(156),Te=a.n(Se),Le=a(49);const Ye={hydroPumped:{label:"POMPAGE",color:"#114774",stackId:"2"},bioenergy:{label:"BIOENERG.",color:"#166a57"},wind:{label:"EOLIEN",color:"#74cdb9"},solar:{label:"SOLAIRE",color:"#f27406"},nuclear:{label:"NUCLEAIRE",color:"#f5b300"},hydro:{label:"HYDRAU.",color:"#2772b2"},gas:{label:"GAS",color:"#f30a0a"},coal:{label:"CHARBON",color:"#ac8c35"},oil:{label:"FIOUL",color:"#8356a2"},exports:{label:"EXPORTS",color:"#969696",stackId:"2"},imports:{label:"IMPORTS",color:"#969696"}},qe=["hydroPumped","exports","bioenergy","nuclear","hydro","gas","coal","oil","wind","solar","imports"],ze=["oil","coal","gas","hydro","nuclear","solar","wind","bioenergy","hydroPumped"],je={bioenergy:230,nuclear:6,hydro:6,gas:418,coal:1060,oil:730,wind:14.1,solar:55,imports:400};function Ve(e){return isNaN(e)?"-":"".concat(e)}var We=function(e){let{mix:t,slotIndex:a,setSlotIndex:n,currentDate:o}=e;return r.a.createElement("div",{className:"MixComponent"},r.a.createElement("div",{className:"MixComponent__header"},ze.map(e=>r.a.createElement("div",{key:e,className:"MixComponent__header__item",style:{backgroundColor:Ye[e].color}},Ve(Math.abs(t[a][e])),r.a.createElement("span",{className:"MixComponent__header__item__small"}," MW"),r.a.createElement("br",null),r.a.createElement("span",{className:"MixComponent__header__item__small"},Ye[e].label))),r.a.createElement("div",{className:"MixComponent__header__item",style:{backgroundColor:Ye.imports.color}},Ve(Math.max(t[a].imports,-t[a].exports)),r.a.createElement("span",{className:"MixComponent__header__item__small"}," MW"),r.a.createElement("br",null),r.a.createElement("span",{className:"MixComponent__header__item__small"},t[a].exports<0?Ye.exports.label:Ye.imports.label)),r.a.createElement("div",{className:"MixComponent__header__item",style:{backgroundColor:"black"}},Ve(t[a].consumption),r.a.createElement("span",{className:"MixComponent__header__item__small"}," MW"),r.a.createElement("br",null),r.a.createElement("span",{className:"MixComponent__header__item__small"},"CONSO")),r.a.createElement("div",{className:"MixComponent__header__item",style:{color:"black"}},Ve(Math.ceil(function(e){const t=Object.keys(je).reduce((t,a)=>({e:t.e+e[a]*je[a],total:t.total+e[a]}),{e:0,total:0});return t.e/t.total}(t[a]))),r.a.createElement("br",null),r.a.createElement("span",{className:"MixComponent__header__item__small"},"gCO\u2082eq/kWh"))),r.a.createElement("div",{className:"MixComponent__chart"},r.a.createElement(Le.f,null,r.a.createElement(Le.c,{data:t},r.a.createElement(Le.i,{axisLine:!0,mirror:!0}),qe.map(e=>r.a.createElement(Le.a,{key:e,dataKey:e,type:"monotone",activeDot:!1,stroke:"none",fill:Ye[e].color,stackId:Ye[e].stackId||"1"})),r.a.createElement(Le.d,{dataKey:"consumption",dot:!1,activeDot:!1,type:"monotone",stroke:"black"}),r.a.createElement(Le.e,{x:a,stroke:"#4b4e52"})))),r.a.createElement("div",{className:"MixComponent__sliderContainer"},r.a.createElement(Re.a,{min:0,max:96,style:{width:"100%"},defaultValue:a,onChange:Te()(n,400),tipFormatter:e=>p()(o).startOf("day").add(15*e,"minutes").format("HH:mm")})))};const Ue=Object(Ce.c)("slotIndex","setSlotIndex",e=>De()().isSame(e.currentDate,"day")?e.mix.filter(e=>!Number.isNaN(e.nuclear)).length-1:4*De()(e.currentDate).hours()),He=Object(s.b)((e,t)=>{const a=Me(t.location);return{currentDate:a,mix:$({date:a},e)}}),Ge=Object(s.b)((e,t)=>({reactorSetIndicators:W({date:t.currentDate,slotIndex:Math.floor(t.slotIndex/4)},e)}));var Fe=Object(Ce.a)(He,Ue,Ge)((function(e){const{mix:t,slotIndex:a,setSlotIndex:n,reactorSetIndicators:o,currentDate:l}=e,{totalPower:i,availablePower:c,availableCount:s,partiallyUnavailableCount:d,totallyUnavailableCount:m}=o,p=Math.floor(i/1e3),h=Math.floor(c),E=Math.floor(100*c/i),f=Math.floor(100*t[a].nuclear/c),b=Math.max((c-(t[a].nuclear||0))/i*100,0),g=De()(l).hour(Math.floor(a/4)).minutes(a%4*15).format("DD/MM/YYYY HH:mm");return r.a.createElement("div",{className:"MixView"},r.a.createElement(de.a,null,r.a.createElement(me.a,{span:24},r.a.createElement(We,{mix:t,slotIndex:a,setSlotIndex:n,currentDate:l}),r.a.createElement("div",{className:"MixView__date"},De()(l).isAfter("2012-01-02")?r.a.createElement(u.b,{to:e=>({pathname:e.pathname,search:w.a.stringify({date:De()(l).subtract(1,"day").startOf("hour").toISOString()})})},r.a.createElement(Ee.a,{theme:"twoTone",type:"left-circle",style:{fontSize:"18pt"}})):r.a.createElement("div",null),r.a.createElement("div",null,g),De()().isSame(l,"day")?r.a.createElement("div",null):r.a.createElement(u.b,{to:e=>({pathname:e.pathname,search:w.a.stringify({date:De()(l).add(1,"day").startOf("hour").toISOString()})})},r.a.createElement(Ee.a,{theme:"twoTone",type:"right-circle",style:{fontSize:"18pt"}}))),r.a.createElement("div",{className:"MixView__nuclear"},r.a.createElement("strong",null,"Parc nucl\xe9aire (".concat(p," GW):")),r.a.createElement("div",{className:"MixView__nuclear__indicator"},r.a.createElement("div",{className:"MixView__nuclear__indicator__prod",style:{display:t[a].nuclear?"inherit":"none",width:"".concat((t[a].nuclear||0)/i*100,"%")}},r.a.createElement("div",null,"Prod: ".concat(ke(t[a].nuclear)," MW")),r.a.createElement("div",null,"".concat(ke(f),"% du dispo."))),r.a.createElement("div",{className:"MixView__nuclear__indicator__available",style:{width:"".concat(b,"%")}})),r.a.createElement("div",{className:"MixView__nuclear__available"},"".concat(s," r\xe9acteurs disponibles: ").concat(h," MW (").concat(E,"%)")),r.a.createElement("div",null,"dont ".concat(d," partiellement indisponible").concat(d>1?"s":"")),r.a.createElement("div",{className:"MixView__nuclear__stopped"},"".concat(m," r\xe9acteur").concat(m>1?"s":""," arr\xeat\xe9").concat(m>1?"s":""))))))})),Be=(a(281),a(117)),Ke=(a(184),a(101)),Xe=(a(282),a(171)),Je=(a(283),a(83));const{ReactorType:Qe}=a(65);function Ze(e){const t={fontSize:16};switch(e.status){case"PLANNED_STOP":return r.a.createElement(Ee.a,{type:"tool",theme:"filled",style:{...t,color:"#404040"}});case"UNPLANNED_REDUCTION":case"AUTO_STOP":return r.a.createElement(Ee.a,{type:"exclamation-circle",theme:"twoTone",twoToneColor:"red",style:t});case"PLANNED_REDUCTION":return r.a.createElement(Ee.a,{type:"info-circle",theme:"twoTone",style:t});default:return null}}var $e=function(e){const{reactor:t,currentDate:a}=e,n=t.dayProductions,o=p()(a).hours(),l=t.dayProductions.reduce((e,t,a)=>null===t.value?e:a,0),i=n[Math.min(l,o)],c=Math.max(0,i.value),s=Math.floor(c/t.netPower_MW*100);return r.a.createElement("div",{className:"ReactIndicator",style:{background:"linear-gradient(0deg, #26a65b 0%, #26a65b ".concat(s,"%, rgba(255,255,255,1) ").concat(s,"%)")}},r.a.createElement("div",{className:"ReactIndicator__status"},r.a.createElement(Ze,{status:t.status})),r.a.createElement("div",{className:"ReactIndicator__prod"},r.a.createElement("strong",null,Math.floor(c))),r.a.createElement("div",{className:"ReactIndicator__number"},t.reactorIndex))},et=(a(285),a(27)),tt=(a(583),a(74));const at=[0,12,24];function nt(e){return e?"".concat(e,":00"):"00:00"}var rt=function(e){const{reactor:t}=e,[a,o]=Object(n.useState)(null),l=a>9?"".concat(a,":00"):"0".concat(a,":00"),i=null!==a&&null!=t.dayProductions[a].value?"".concat(Math.floor(t.dayProductions[a].value)):"-";return r.a.createElement("div",{key:t.name,className:"ReactorLoadChart"},r.a.createElement("div",null,"".concat(null!==a?"\xc0 ".concat(l,": ").concat(i," "):"","MW")),r.a.createElement("div",{className:"ReactorLoadChart__chart"},r.a.createElement(Le.f,null,r.a.createElement(Le.b,{data:t.dayProductions,onClick:e=>(o(e&&e.activeTooltipIndex),e)},r.a.createElement(Le.h,{domain:[0,24],ticks:at,tickFormatter:nt}),r.a.createElement(Le.i,null),r.a.createElement(Le.a,{dataKey:"value",dot:!1,activeDot:e=>(o(e.index),null),type:"monotone",stroke:"rgb(28, 114, 64)",fill:"rgb(38, 166, 91)",fillOpacity:1}),r.a.createElement(Le.g,{content:()=>null})))))};var ot=function(e){let{reactor:t,currentDate:a}=e;return r.a.createElement("div",null,r.a.createElement(rt,{reactor:t}),r.a.createElement("div",{className:"MixView__date"},De()(a).isAfter("2012-01-02")?r.a.createElement(u.b,{to:e=>({pathname:e.pathname,search:w.a.stringify({date:De()(a).subtract(1,"day").startOf("hour").toISOString()}),hash:"production"})},r.a.createElement(Ee.a,{theme:"twoTone",type:"left-circle",style:{fontSize:"18pt"}})):r.a.createElement("div",null),r.a.createElement("div",null,De()(a).format("DD/MM/YYYY")),De()().isSame(a,"day")?r.a.createElement("div",null):r.a.createElement(u.b,{to:e=>({pathname:e.pathname,search:w.a.stringify({date:De()(a).add(1,"day").startOf("hour").toISOString()}),hash:"production"})},r.a.createElement(Ee.a,{theme:"twoTone",type:"right-circle",style:{fontSize:"18pt"}}))))},lt=(a(662),a(225));const it=[{title:"",render:(e,t)=>function(e){return"PLANNED_MAINTENANCE"===e.type?e.availablePower_MW>0?r.a.createElement(Ee.a,{type:"info-circle",theme:"twoTone"}):r.a.createElement(Ee.a,{type:"tool",theme:"filled",style:{color:"#404040"}}):r.a.createElement(Ee.a,{type:"exclamation-circle",theme:"twoTone",twoToneColor:"red"})}(t)},{title:"D\xe9but",dataIndex:"startDate",key:"startDate",render:e=>De()(e).format("DD/MM/YYYY")},{title:"Fin",dataIndex:"endDate",key:"endDate",render:e=>De()(e).format("DD/MM/YYYY")}];function ct(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r.a.createElement(et.a,{size:"small",column:1},t&&r.a.createElement(et.a.Item,{label:"Type"},"PLANNED_MAINTENANCE"===e.type?"Planifi\xe9e":"Fortuite"),r.a.createElement(et.a.Item,{label:"Puissance disponible"},"".concat(e.availablePower_MW," MW")),r.a.createElement(et.a.Item,{label:"Description"},e.reason))}const st={loaded:!1,data:{},page:1};var ut=function(e){const{reactor:t,currentDate:a}=e,[o,l]=Object(n.useState)(a),[i,c]=Object(n.useState)(st),[s,u]=Object(n.useState)(st);Object(n.useEffect)(()=>{const e=i.page,n=s.page;a!==o&&(l(a),c(st),u(st)),i.data[e]||async function(e){const t=await N("".concat(I,"/unavailabilities/next/?").concat(w.a.stringify(e)));return await t.json()}({date:a,eicCode:t.eicCode,skip:10*(i.page-1),limit:10}).then(t=>c({...i,loaded:!0,total:t.total,data:{...i.data,[e]:t.data}})),s.data[n]||async function(e){const t=await N("".concat(I,"/unavailabilities/finished/?").concat(w.a.stringify(e)));return await t.json()}({date:a,eicCode:t.eicCode,skip:10*(s.page-1),limit:10}).then(e=>u({...s,loaded:!0,total:e.total,data:{...s.data,[n]:e.data}}))},[i,s,i.page,s.page,t.eicCode,o,a]);const d=De()(a),m=t.unavailabilities.find(e=>d.isAfter(e.startDate)&&d.isBefore(e.endDate)),p=function(e,t){return e?"current":t&&t.length>0?"next":"done"}(m,i.data[1]);return s.loaded&&i.loaded?r.a.createElement("div",{className:"UnavailabilitiesTab"},r.a.createElement(_e.a,{defaultActiveKey:[p],accordion:!0,expandIconPosition:"right"},m&&r.a.createElement(_e.a.Panel,{header:r.a.createElement("span",null,r.a.createElement(Ee.a,{type:"clock-circle",theme:"filled"})," En cours..."),key:"current"},r.a.createElement(et.a,{size:"small",column:1},r.a.createElement(et.a.Item,{label:"D\xe9but"},De()(m.startDate).format("DD/MM/YYYY HH:mm")),r.a.createElement(et.a.Item,{label:"Fin"},De()(m.endDate).format("DD/MM/YYYY HH:mm")),r.a.createElement(et.a.Item,{label:"Type"},"PLANNED_MAINTENANCE"===m.type?"Planifi\xe9e":"Fortuite"),r.a.createElement(et.a.Item,{label:"Puissance disponible"},"".concat(m.availablePower_MW," MW")),r.a.createElement(et.a.Item,{label:"Description"},m.reason))),i.data[1]&&i.data[1].length>0&&r.a.createElement(_e.a.Panel,{header:r.a.createElement("span",null,r.a.createElement(Ee.a,{type:"schedule",theme:"filled"}),"  \xc0 venir (".concat(i.total||"",")")),key:"next"},r.a.createElement(lt.a,{loading:!i.data[i.page],size:"small",bordered:!1,pagination:i.total>10&&{current:i.page,total:i.total,pageSize:10},expandedRowRender:e=>ct(e,!1),expandRowByClick:!0,indentSize:0,rowKey:"id",columns:it,dataSource:i.data[i.page],onChange:e=>c({...i,page:e.current})})),r.a.createElement(_e.a.Panel,{header:r.a.createElement("span",null,r.a.createElement(Ee.a,{type:"check-square",theme:"filled"}),"  Pass\xe9es (".concat(s.total||"",")")),key:"done"},r.a.createElement(lt.a,{loading:!s.data[s.page],size:"small",bordered:!1,pagination:s.total>10&&{current:s.page,total:s.total,pageSize:10},expandedRowRender:e=>ct(e,!0),expandRowByClick:!0,indentSize:0,rowKey:"id",columns:it,dataSource:s.data[s.page],onChange:e=>u({...s,page:e.current})})))):r.a.createElement(ue.a,{loading:!0,style:{marginLeft:"50%"}})};var dt=function(e){let{reactor:t,currentDate:a,currentTab:n,setTab:o}=e;const l=n||("RUNNING"===t.status?"production":"unavailabilities");return r.a.createElement("div",{className:"ReactorDetails"},r.a.createElement("div",{className:"ReactorDetails__header"},r.a.createElement("div",{className:"ReactorDetails__headerLine"},r.a.createElement("div",{className:"ReactorDetails__headerLine__left"},r.a.createElement("div",{className:"ReactorDetails__headerLine__title"},t.name),r.a.createElement("div",null,"(".concat(t.netPower_MW," MWe)"))),r.a.createElement("div",null,r.a.createElement(ge,{to:"/plant/".concat(t.plantId)},r.a.createElement(Ee.a,{type:"caret-up",theme:"filled"})))),r.a.createElement(tt.a,{activeKey:l,type:"card",onChange:o},r.a.createElement(tt.a.TabPane,{tab:r.a.createElement(Ee.a,{type:"bars"}),key:"info"}),r.a.createElement(tt.a.TabPane,{tab:r.a.createElement(Ee.a,{type:"thunderbolt",theme:"filled"}),key:"production"}),r.a.createElement(tt.a.TabPane,{tab:r.a.createElement(Ee.a,{type:"tool",theme:"filled"}),key:"unavailabilities"}))),r.a.createElement(tt.a,{activeKey:l,onChange:o,renderTabBar:()=>r.a.createElement("div",null)},r.a.createElement(tt.a.TabPane,{tab:"",key:"info"},r.a.createElement(et.a,{size:"small",bordered:!0,column:1},r.a.createElement(et.a.Item,{label:"Palier"},t.stage),r.a.createElement(et.a.Item,{label:"Puissance thermique"},"".concat(t.thermalPower_MW," MW")),r.a.createElement(et.a.Item,{label:"Puissance \xe9lectrique brute"},"".concat(t.rawPower_MW," MW")),r.a.createElement(et.a.Item,{label:"Puissance \xe9lectrique nette"},"".concat(t.netPower_MW," MW")),r.a.createElement(et.a.Item,{label:"A\xe9ror\xe9frig\xe9rants"},t.coolingTowerCount),r.a.createElement(et.a.Item,{label:"D\xe9but de construction"},t.buildStartDate),r.a.createElement(et.a.Item,{label:"Divergence"},t.firstReactionDate),r.a.createElement(et.a.Item,{label:"Raccordement au r\xe9seau"},t.gridLinkDate),r.a.createElement(et.a.Item,{label:"D\xe9but d'exploitation"},t.exploitationStartDate,r.a.createElement("br",null),r.a.createElement("strong",null," (".concat(De()().diff(De()(t.exploitationStartDate,"DD/MM/YYYY"),"years")," ans)"))),t.moxAuthorizationDate&&r.a.createElement(et.a.Item,{label:"Autorisation MOX"},t.moxAuthorizationDate))),r.a.createElement(tt.a.TabPane,{tab:"",key:"production"},r.a.createElement(ot,{currentDate:a,reactor:t})),r.a.createElement(tt.a.TabPane,{tab:"",key:"unavailabilities"},r.a.createElement(ut,{reactor:t,currentDate:a}))))},mt=(a(625),a(313));var pt=function(e){const{plant:t}=e;return r.a.createElement("div",{className:"PlantPictures"},r.a.createElement("div",{className:"PlantPictures__header"},r.a.createElement("h3",null,"Photos"),r.a.createElement("div",null,r.a.createElement(ge,{to:"/plant/".concat(t.id)},r.a.createElement(Ee.a,{type:"caret-up",theme:"filled"})))),r.a.createElement(mt.a,null,t.pictures.map(e=>r.a.createElement("img",{key:e,alt:t.name,src:e}))))};a(637);const ht=Object(s.b)((e,t)=>{const a=function(e,t){let{plantId:a,reactorIndex:n,date:r}=e;const o=Object.values(t.reactors.data).find(e=>e.plantId===a&&e.reactorIndex===n);return o&&z({eicCode:o.eicCode,date:r},t)}({date:t.currentDate,plantId:t.match.params.plantId,reactorIndex:Number(t.match.params.reactorIndex)},e);return{reactor:a,setTab:e=>t.goTo("/plant/".concat(a.plantId,"/").concat(a.reactorIndex),"#".concat(e))}})(dt);var Et=Object(s.b)((e,t)=>{const{plantId:a}=t.match.params,n=Me(t.location);return{currentDate:n,currentTab:t.location.hash.substr(1),plants:K({date:n},e),currentPlant:B({plantId:a,date:n},e),reactors:j({plantId:a,date:n},e),goTo:function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t.history.push("".concat(e).concat(t.location.search).concat(a))}}})((function(e){const{currentDate:t,currentTab:a,plants:n,currentPlant:o,reactors:l,goTo:i}=e;return o?r.a.createElement("div",{className:"PlantView"},r.a.createElement(de.a,null,r.a.createElement(me.a,{span:24},r.a.createElement("div",{className:"PlantView__firstRow"},r.a.createElement("div",{className:"PlantView__firstRow__left"},r.a.createElement(Je.a,{value:o.id,size:"large",onChange:e=>i("/plant/".concat(e)),style:{width:"10em"}},n.map(e=>r.a.createElement(Je.a.Option,{key:e.id,value:e.id},e.name))),r.a.createElement("span",null,r.a.createElement(Xe.a,{style:{marginLeft:"8px"}},"SEA"===o.coolingType?"Mer":"Fleuve"))),r.a.createElement("div",{className:"PlantView__firstRow__right"},r.a.createElement(ge,{to:"/plant/".concat(o.id,"/pictures")},r.a.createElement(Ke.a,{icon:"picture",style:{marginRight:5}})),r.a.createElement(Be.a,{overlay:(c=o,r.a.createElement(he.a,null,r.a.createElement(he.a.Item,null,r.a.createElement("a",{href:c.wikiLink,target:"_blank",rel:"noopener noreferrer"},"Wikipedia")),r.a.createElement(he.a.Item,null,r.a.createElement("a",{href:c.asnLink,target:"_blank",rel:"noopener noreferrer"},"ASN")),r.a.createElement(he.a.Item,null,r.a.createElement("a",{href:c.edfLink,target:"_blank",rel:"noopener noreferrer"},"EDF")))),trigger:["click"],placement:"bottomRight"},r.a.createElement(Ke.a,{icon:"more"})))),r.a.createElement("div",{className:"PlantView__schema"},r.a.createElement("div",null,"Production (MW)"),r.a.createElement("div",{className:"PlantView__reactors"},l.map(e=>r.a.createElement(ge,{key:e.eicCode,to:"/plant/".concat(o.id,"/").concat(e.reactorIndex)},r.a.createElement($e,{reactor:e,currentDate:t})))),r.a.createElement("div",{className:"PlantView__cooling",style:{width:50*l.length}},o.coolingPlace)),r.a.createElement("div",{className:"PlantView__footer"},r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/plant/:plantId/pictures",component:()=>r.a.createElement(pt,{plant:o})}),r.a.createElement(d.b,{path:"/plant/:plantId/:reactorIndex",component:e=>r.a.createElement(ht,Object.assign({},e,{currentTab:a,currentDate:t,goTo:i}))}),r.a.createElement(d.b,{component:()=>r.a.createElement("small",null,"(Cliquer sur un r\xe9acteur pour plus de d\xe9tails)")})))))):r.a.createElement(d.a,{to:"/"});var c})),ft=a(675),bt=a(678),gt=a(679),vt=a(670),yt=a(676);const _t={fillOpacity:1,iconSize:[24,38],circleColor:"white",circleRatio:.6,circleWeight:3};function wt(e){return e.reactors.reduce((e,t)=>"RUNNING"!==t.status&&"PLANNED_STOP"!==t.status||e,!1)}function It(e,t){const a=Math.max(p()(t).hours(),0);return e.reactors.reduce((e,t)=>{const n=t.dayProductions.reduce((e,t,a)=>null===t.value?e:a,0),r=Math.min(n,a);return e+(null!==t.dayProductions[r].value?Math.max(t.dayProductions[r].value,0):0)},0)/e.reactors.reduce((e,t)=>e+t.netPower_MW,0)}function Nt(e){const{plants:t,currentPlantId:a,onPlantClick:n,drawerHeight:o,rivers:l,currentDate:i}=e,s=!Pe("sm"),u=Ae();return r.a.createElement(ft.a,{center:[48.3,2],zoom:s?5:6,style:{height:s?u-64-o:u-64,marginTop:s?64+o:64,marginLeft:s?0:400},zoomControl:!1},r.a.createElement(bt.a,{position:"bottomright"}),r.a.createElement(gt.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),t.map(e=>r.a.createElement(vt.a,{key:e.id,title:e.name,position:e.coords,icon:e.id===a?new c.a.DivIcon.SVGIcon.IndicatorIcon({..._t,color:"red",loadRate:It(e,i),notif:wt(e)}):new c.a.DivIcon.SVGIcon.IndicatorIcon({..._t,loadRate:It(e,i),notif:wt(e)}),onClick:()=>n(e)})),l.map(e=>r.a.createElement(yt.a,{key:e.name,data:e})))}Nt.defaultProps={currentPlantId:null};var xt=Object(s.b)((e,t)=>({plants:K({date:t.currentDate},e),rivers:re(e)}))(Nt),Ct=(a(638),a(315)),Ot=a.n(Ct),Dt=(a(664),a(316));const Pt=p()("2012-01-01").toDate(),At=p()().endOf("day").toDate();const kt=Object(Ce.c)("isOpen","setIsOpen",!1)((function(e){const{children:t,isOpen:a,setIsOpen:n,value:o,onDate:l}=e;return r.a.createElement("div",null,r.a.createElement("div",{role:"button",tabIndex:"0",onKeyDown:()=>{},onClick:()=>n(!a)},t),r.a.createElement(Dt.a,{open:a,style:{display:"none"},defaultValue:p()(o),disabledDate:e=>p()().isBefore(e)||p()(Pt).isAfter(e),showTime:{minuteStep:60,secondStep:60},onOk:e=>{n(!1),l(e)}}))}));var Mt=function(e){const{value:t,children:a,onDate:n}=e;return function(){let e=!1;var t;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(t.substr(0,4)))&&(e=!0),e}()?r.a.createElement(Ot.a,{locale:{okText:"OK",dismissText:"Today",DatePickerLocale:{year:"",month:"",day:"",hour:"h",minute:""}},onOk:n,onDismiss:n,value:p()(t).minutes(0).toDate(),minuteStep:60,minDate:Pt,maxDate:At},a):r.a.createElement(kt,{value:t,onDate:n},a)},Rt=a(671),St=a(672);class Tt extends n.Component{componentDidMount(){const{load:e,...t}=this.props;e(t)}componentDidUpdate(e){const t=Object(Rt.a)(["load"],e),{load:a,...n}=this.props;Object(St.a)(t,n)||a(n)}render(){return null}}var Lt=function(e){return Object(s.b)(null,{load:e})(Tt)};const Yt=Lt((function(){return function(e){return e({type:"PLANTS_LOAD_ACTION"}),async function(){const e=await N("".concat(I,"/plants"));return await e.json()}().then(t=>e(H({data:Object(b.a)(Object(g.a)("id"),t)}))).catch(t=>console.error(t)||e(H({errors:t})))}})),qt=Lt((function(){return function(e){return e({type:"REACTORS_LOAD_ACTION"}),async function(){const e=await N("".concat(I,"/reactors"));return await e.json()}().then(t=>e(S({data:Object(b.a)(Object(g.a)("eicCode"),t)}))).catch(t=>console.error(t)||e(S({errors:t})))}})),zt=Lt((function(e){let{date:t}=e;const a=p()(t).format("YYYY-MM-DD");return function(e,t){return D({date:a},t())?Promise.resolve():(e(function(e){let{date:t}=e;return{type:"PRODUCTIONS_LOAD_ACTION",date:t}}({date:a})),async function(e){let{date:t}=e;const a=await N("".concat(I,"/productions?").concat(w.a.stringify({date:t})));return await a.json()}({date:a}).then(t=>e(C({date:a,data:t}))).catch(t=>console.error(t)||e(C({date:a,errors:t}))))}})),jt=Lt((function(e){let{date:t}=e;const a=p()(t).format("YYYY-MM-DD");return function(e,t){return Z({date:a},t())?Promise.resolve():(e(function(e){let{date:t}=e;return{type:"MIX_LOAD_ACTION",date:t}}({date:a})),async function(e){let{date:t}=e;const a=await N("".concat(I,"/mix?").concat(w.a.stringify({date:t}))),n=await a.json(),{mix:r}=n;if(r.length<1)return[];const o=Array.from({length:100-r.length}).map(()=>Object(y.a)(()=>NaN,r[0]));return{date:n.date,mix:r.concat(o)}}({date:a}).then(t=>e(J({date:a,data:t}))).catch(t=>console.error(t)||e(J({date:a,errors:t}))))}})),Vt=Lt((function(e){let{date:t}=e;const a=p()(t).format("YYYY-MM-DD");return function(e,t){return M({date:a},t())?Promise.resolve():(e(function(e){let{date:t}=e;return{type:"UNAVAILABILITIES_LOAD_ACTION",date:t}}({date:a})),async function(e){let{date:t}=e;const a=await N("".concat(I,"/unavailabilities?").concat(w.a.stringify({date:t})));return await a.json()}({date:a}).then(t=>e(A({date:a,data:t}))).catch(t=>console.error(t)||e(A({date:a,errors:t}))))}})),Wt=Lt((function(){return function(e){return e({type:"RIVERS_LOAD_ACTION"}),async function(){return Promise.all(["garonne","loire","meuse","moselle","rhin","rhone","seine"].map(e=>fetch("./rivers/".concat(e,".json")).then(e=>e.json()).then(t=>({...t,name:e}))))}().then(t=>e(te({data:t}))).catch(t=>console.error(t)||e(te({errors:t})))}}));function Ut(e){const{isLoaded:t,error:a,currentPlantId:n,currentLocation:o,currentDate:l,isFullPage:i,goTo:c}=e,s=!Pe("sm"),u=i?Ae()-64:220;return r.a.createElement("div",{className:"AppLayout"},r.a.createElement(Yt,null),r.a.createElement(qt,null),r.a.createElement(Wt,null),r.a.createElement(zt,{date:l}),r.a.createElement(jt,{date:l}),r.a.createElement(Vt,{date:l}),r.a.createElement(ue.a,{size:"large",spinning:!t,indicator:r.a.createElement("div",null,r.a.createElement("img",{className:"AppLayout__loadingIcon",src:"loading_icon.svg",alt:""}),a&&r.a.createElement("div",{className:"AppLayout__errorMessage"},"Une erreur est survenue, veuillez essayer dans quelques minutes"))},!t&&r.a.createElement("div",{className:"AppLayout__splash"}),t&&r.a.createElement(pe.a,null,r.a.createElement(fe.a,{title:null,visible:!0,placement:s?"top":"left",style:{marginTop:64},mask:!1,closable:!1,width:400,height:u,bodyStyle:{padding:0},drawerStyle:{transition:"height 2s ease"}},r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/home",exact:!0,component:ye}),r.a.createElement(d.b,{path:"/mix",exact:!0,component:Fe}),r.a.createElement(d.b,{path:"/about",exact:!0,component:xe}),r.a.createElement(d.b,{path:"/plant/:plantId",component:Et}),r.a.createElement(d.b,{component:()=>r.a.createElement(d.a,{to:{pathname:"/home"}})}))),r.a.createElement(de.a,null,r.a.createElement(me.a,{span:24},r.a.createElement(pe.a.Header,{className:"AppLayout__header"},r.a.createElement(he.a,{theme:"dark",mode:"horizontal",className:"AppLayout__menu",selectable:!1},r.a.createElement(he.a.SubMenu,{title:r.a.createElement("span",null,r.a.createElement(Ee.a,{type:"menu"}),r.a.createElement("strong",null,"Nuclear monitor")),popupClassName:"AppLayout__submenu"},r.a.createElement(he.a.Item,{key:"home"},r.a.createElement(ge,{to:"/home"},"Accueil")),r.a.createElement(he.a.Item,{key:"mix"},r.a.createElement(ge,{to:"/mix"},"Mix")),r.a.createElement(he.a.Item,{key:"about"},r.a.createElement(ge,{to:"/about"},"\xc0 propos")))),r.a.createElement(Mt,{onDate:e=>p()(e).isSame(p()(),"day")?c("".concat(o),!1):c("".concat(o,"?date=").concat(p()(e).toISOString()),!1),value:l},r.a.createElement("div",{className:"AppLayout__header__date"},r.a.createElement("div",{className:"AppLayout__header__date__text"},r.a.createElement("div",null,p()(l).format("dddd DD/MM/YYYY")),r.a.createElement("div",null,p()(l).format("\xe0 HH:00"))),r.a.createElement("div",{className:"AppLayout__header__date__calendar"},r.a.createElement(Ee.a,{type:"calendar",theme:"twoTone",twoToneColor:"white"}))))),r.a.createElement(pe.a.Content,{className:"AppLayout__content"},r.a.createElement(xt,{currentDate:l,currentPlantId:n,onPlantClick:e=>c("/plant/".concat(e.id)),drawerHeight:u})))))))}Ut.defaultProps={currentPlantId:null,error:null};var Ht=Object(d.g)(Object(s.b)((e,t)=>{const a=Object(d.f)(t.location.pathname,{path:"/plant/:id",exact:!1}),n=Me(t.location),r=function(e,t){let{date:a}=e;const n=p()(a).format("YYYY-MM-DD");return t.mix[n]&&t.mix[n].errors}({date:n},e),o=function(e,t){let{date:a}=e;const n=p()(a).format("YYYY-MM-DD");return t.productions[n]&&t.productions[n].errors}({date:n},e),l=function(e,t){let{date:a}=e;const n=p()(a).format("YYYY-MM-DD");return t.unavailabilities[n]&&t.unavailabilities[n].errors}({date:n},e);return{isLoaded:F(e)&&Y(e)&&D({date:n},e)&&Z({date:n},e)&&M({date:n},e)&&ne(e)||!1,error:o||l||r,goTo:function(e){let a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.history.push("".concat(e).concat(a?t.location.search:""))},currentLocation:t.location.pathname,currentPlantId:a&&a.params.id,currentDate:n,isFullPage:!!Object(d.f)(t.location.pathname,{path:["/plant/:id/:reactorIndex","/mix","/about"]})}})(Ut)),Gt=a(226);Ft="tracker.pageview";var Ft;const Bt=Gt.a;Gt.a.initialize("UA-153111142-1",{siteSpeedSampleRate:100});class Kt extends n.Component{componentDidMount(){this.trackPage()}componentDidUpdate(e){const{location:t}=this.props;t!==e.location&&this.trackPage()}trackPage(){const{location:e}=this.props;Bt.set({location:e}),Bt.pageview(e)}render(){const{children:e}=this.props;return r.a.createElement("div",null,e)}}var Xt=Object(Ce.a)(d.g,Object(Ce.b)(e=>({location:"".concat(e.location.pathname).concat(e.location.search)})))(Kt);p.a.locale("fr"),p.a.tz.setDefault("Europe/Paris");var Jt=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(s.a,{store:se},r.a.createElement(u.a,null,r.a.createElement(d.b,{path:"/"},r.a.createElement(Xt,null,r.a.createElement(Ht,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(Jt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()})}},[[343,1,2]]]);
//# sourceMappingURL=main.c012cfcf.chunk.js.map